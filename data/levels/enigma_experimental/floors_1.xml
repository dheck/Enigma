<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected>
    <el:info el:type="level">
      <el:identity el:title="All Floors" el:subtitle="Testlevel with all Floors" el:id="floors"/>
      <el:version el:score="1" el:release="1" el:revision="2" el:status="stable"/>
      <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
      <el:copyright>Copyright Â© 2007 Raoul Bourquin</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="1.00">
      </el:compatibility>
      <el:modes el:easy="false" el:single="true" el:network="false"/>
      <el:score el:easy="-" el:difficult="-"/>
    </el:info>
    <el:luamain><![CDATA[
-- GENERAL --
levelh = 13
levelw = 120

create_world(levelw, levelh)
enigma.ConserveLevel = TRUE
display.SetFollowMode(display.FOLLOW_SCROLLING)

-- DESIGN --
floor="fl-black"
wall="st-glass"

-- FLOOR --
fill_floor(floor, 0,0,levelw,levelh)

-- STONES --
--draw_border(wall)

-- ITEMS --
set_item("it-document", 10, 5, {text="text1"})

-- ACTORS --
set_actor("ac-blackball", 4.5,3.5, {player=0})
set_actor("ac-whiteball", 6.5,3.5, {player=1})
set_item("it-yinyang",4,3)
set_item("it-yinyang",6,3)

-- Funktionen
-- VARS
    floorlist = {
        -- The first two sections are copied from models-2d.lua,
        -- except for "fl_abyss", which has been replaced by "fl_abyss_fake".
        -- (see below for "fl_abyss")
        -- single
        {"fl-abyss_fake", noframe = true},
        {"fl-acblack", noframe = true},
        {"fl-acwhite", noframe = true},
        {"fl-black"},
        {"fl-bluegreen"},
        {"fl-darkgray"},
        {"fl-dummy", noframe = true},
        {"fl-dunes"},
        {"fl-floor_001"},
        {"fl_ice", noframe = true},
        {"fl-inverse", noframe = true},
        {"fl-inverse2", noframe = true},
        {"fl-light"},
        {"fl-lightgray"},
        {"fl-nomouse", noframe = true},
        {"fl-normal"},
        {"fl-sand"},
        {"fl-stone"},
        {"fl-springboard"},
        {"fl-trigger"},
        {"fl-white"},
        -- multiple, with height and width (or 1)
        {"fl-bluegray", 4},
        {"fl-bluegreenx", 2},
        {"fl-brick", 3},
        {"fl-bumps", 2, 2},
        {"fl-concrete", 4},
        {"fl-gravel", 4},
        {"fl-gray", 5},
        {"fl-hay", 4},
        {"fl-himalaya", 4},
        {"fl-marble", 4},
        {"fl-metal", 6},
        {"fl-mortar", 2, 2},
        {"fl-plank", 4},
        {"fl-red", 4},
        {"fl-rock", 2},
        {"fl-rough", 5},
        {"fl-rough-blue", 4},
        {"fl-rough-red", 4},
        {"fl-sahara", 4},
        {"fl-samba", 2},
        {"fl_space", 3, 2, noframe = true},
        {"fl-stwood", 2},
        {"fl_swamp", 4, noframe = true},
        {"fl-tigris", 4},
        {"fl_water", 4, noframe = true},
        {"fl-woven", 5},
        -- Additional floors
        {"fl-leaves", noframe = true},
        {"fl-leavesb", noframe = true},
        {"fl-leavesc1", noframe = true},
        {"fl-leavesc2", noframe = true},
        {"fl-leavesc3", noframe = true},
        {"fl-leavesc4", noframe = true},
        {"fl-leavesd1", noframe = true},
        {"fl-leavesd2", noframe = true},
        {"fl-leavesd3", noframe = true},
        {"fl-leavesd4", noframe = true},
        {"fl-leavese1", noframe = true},
        {"fl-leavese2", noframe = true},
        {"fl-leavese3", noframe = true},
        {"fl-leavese4", noframe = true},
        {"fl-metal1"},
        {"fl-metal2"},
        {"fl-metal3"},
        {"fl-metal4"},
        {"fl-metal5"},
        {"fl-metal6"},
        {"fl-normal_x"},
        {"fl-rough_medium"},
        {"fl-rough_slow"},
        {"fl-samba1"},
        {"fl-samba2"},
        {"fl-stwood1"},
        {"fl-stwood2"},
        {"fl-wood", noframe = true},
        {"fl-wood1", noframe = true},
        {"fl-wood2", noframe = true},
        {"fl-abyss", noframe = true},
        {"fl-acblack", noframe = true},
        {"fl-acwhite", noframe = true},
        {"fl-bridge-closed", noframe = true},
        {"fl-gradient1", noframe = true},
        {"fl-gradient2", noframe = true},
        {"fl-gradient3", noframe = true},
        {"fl-gradient4", noframe = true},
        {"fl-gradient5", noframe = true},
        {"fl-gradient6", noframe = true},
        {"fl-gradient7", noframe = true},
        {"fl-gradient8", noframe = true},
        {"fl-gradient9", noframe = true},
        {"fl-gradient10", noframe = true},
        {"fl-gradient11", noframe = true},
        {"fl-gradient12", noframe = true},
        {"fl-gradient13", noframe = true},
        {"fl-gradient14", noframe = true},
        {"fl-gradient15", noframe = true},
        {"fl-gradient16", noframe = true},
        {"fl-inverse", noframe = true},
        {"fl-inverse2", noframe = true},
        {"fl-space-force", noframe = true},
        {"fl-thief", noframe = true}        
    }
    
------

nr=1
for i=1,table.getn(floorlist) do
    nr = nr+1
    set_stone("st-switch", 1 + i, 2, {action="callback", target="sw"..nr, name="switch"..nr})
    func = "function sw"..nr.."() flnr="..i.."; setfloor(flnr) ; end"
    dostring(func)
end

function setfloor(flnr)
    local floor = floorlist[flnr]
    draw_floor(floor[1], {1 + flnr, 4}, {0, 1}, 8)
    if not floorlist[flnr].noframe then
        draw_floor(floor[1].."_framed", {1 + flnr, 8}, {0, 1}, 4)
    end
    set_item("it-document", 1 + flnr, 0, {text = floor[1]})
end

    ]]></el:luamain>
    <el:i18n>
      <el:string el:key="title">
        <el:english el:translate="false"/>
      </el:string>
      <el:string el:key="text1">
        <el:english el:translate="false">Level with all floors of Enigma 1.01!</el:english>
      </el:string> 
    </el:i18n>
  </el:protected>
</el:level>

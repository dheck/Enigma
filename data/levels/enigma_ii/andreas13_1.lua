-- Robin's Wood, a level for Enigma
-- Copyright (C) 2005 Andreas Lochmann
-- Licensed under GPL v2.0 or above 
-- Created with the help of BBE 1.05

Require("levels/lib/ant.lua")
function file_oxyd(x,y,f)
    oxyd_default_flavor=f
    oxyd(x,y)
end
levelh=39
levelw=60
enigma.FlatForce=30
enigma.SlopeForce=30
enigma.ElectricForce=30
cells={}
items={}
actors={}
stones={}
actors[" "]=cell{}
stones[" "]=cell{}
cells[" "]=cell{}
items[" "]=cell{}
cells["!"]=cell{floor="fl-leavesb"}
stones["!"]=cell{stone="st-invisible"}
cells["#"]=cell{floor="fl-leavesc1"}
cells["$"]=cell{floor="fl-leaves"}
cells["%"]=cell{floor="fl-leavesc2"}
cells["&"]=cell{floor="fl-normal"}
cells["'"]=cell{floor="fl-leavesc3"}
cells["("]=cell{floor="fl-leavese2"}
cells[")"]=cell{floor="fl-leavesd4"}
cells["*"]=cell{floor="fl-leavese4"}
cells["+"]=cell{floor="fl-leavesc4"}
cells[","]=cell{floor="fl-leavese1"}
cells["-"]=cell{floor="fl-leavesd2"}
cells["."]=cell{floor="fl-leavesd3"}
cells["/"]=cell{floor="fl-leavesd1"}
stones["#"]=cell{stone="st-rock1"}
stones["$"]=cell{stone="st-knight"}
stones["C"]=cell{stone="st-chameleon"}
items["!"]=cell{item="it-seed"}
cells["0"]=cell{floor="fl-leavese3"}
items["#"]=cell{item="it-sword"}
cells["1"]=cell{floor="fl-rock"}
items["$"]=cell{item="it-document"}
cells["2"]=cell{floor="fl-water"}
stones["%"]=cell{parent={{file_oxyd,"c"}}}
stones["&"]=cell{stone="st-greenbrown"}
cells["3"]=cell{floor="fl-wood"}
function ac_blackball(x,y)
n=""
p=0
f=0
 if (x==54) and (y==6) then
  n="ac54x6"
  p=0
  mf=1
 end
set_actor("ac-blackball",x+0.5,y+0.5,{player=p,name=n,mouseforce=mf})
end
actors["!"]=cell{parent={{ac_blackball}}}
level={"!!!!!!!!!!!#'!!!!!!!!!!!!!!!!!!!!!22!!!!!!!!!!!!!!!!!!!!!!!!",
       "!!#$$$$$$$$$$-!!!!!!!!!!!#$'!!!!!222$$$$$'!!!!!!!!!!,$$$$0!!",
       "!!$$/!!!!!!($$$$$'!!!!!!!$$$!!!!!22!!!.$$+!!!!!!!!!#$$/!.$'!",
       "!!$*!!!!!!!!!!!!($!!!!!!!%$+!!!!!22!!!!%$0!!!!!!!!!$$+!!!($!",
       "!!$!!!!!!!!!!!!!!('!!!!!!!$!!!!!!2!!!!!!.$0!!!!!!!)$3333!!$!",
       "!!$!!!!!!!!!!!!!!!$'!!!!!!$!!!!!!2!!!!!!!($'!!!!#$$$3333!!$!",
       "!!$!!!!!!#'!!!!!#$$+!!!!!,*!!!!!22!!!!!!!!.$!!!!$$+!3333!!$!",
       "!!$-!!!!!$*!!!!!%$$!!!!!!$!!!!!!22!!!!!!!!!$!!!)$/!!3333!,$!",
       "!!($'!!!!$!!!!!!!($$'!!!!$!!!!!!2!!!!!!!!!!$!!#$*!!!!!!!)$*!",
       "!!!$$-!!)$!!!!!!!!!!!!!!!%0!!#$$2$$'!!!!!!!$-,$+!!!!!#$$$$!!",
       "!!!$$$$$$$-!!!!!!!!#$$$'!!%$$*!22.$*!#'!!!!11$/!!!!!!$*!.$!!",
       "!!)$/!!!!($$0!!!!#$+!%$$!!!!!!!22!%$$$$-!!,11*!!#$0!!$!!!$!!",
       "!#$$!!!!!!!!(0!!,$/!!!!$!!!!!!222!!!!!%11111/!!,*.$-)$!!!$!!",
       "!$$*!!!!!!!!!%$$$+!!!!!('!!!!!22!!!!!!!!!!!!!!,$!!%$$+!!!$!!",
       "!$$!!!!!,'!!!!!!!!!!!!!!%0!!!!22!!!!!!!!!!!!!#$+!!!!!!!!,$-!",
       "!$*!!!!!$$'!!!!!!!!!!!!!!%'!!!22!!!!!!!!!!!!!%$!!!#$$$$$$$$'",
       "!$!!!!!#$$+!!!!!!!!!!!!!!!$!!!222!!!!!#$'!!!!!$0!!%$*!!!!($$",
       "!$!!!!,+!!!!!!!!!!!!!!!!!!$!!!222!!!!!($$!!!!!$$-!!!!!!!!!($",
       "!%'!!,$!!!!!!!!!!!!!!!!!!!$!!!!22!!!!!!$$!!!!!%$$$$$$'#$$'!$",
       "!!$'!$*!!!!!!!!!!!!!!!!!!#+!!!!!22!!!!!%$-!!!!!!!!!($$$$$+!$",
       "!!($!$!!!!!!!#$'!!!!!!!#$$!!!!!!!222!!!!%$'!!!!!!!!!!!($+!!$",
       "!!!%$+!!!!!!!$$$!!!!!!!$$+!!!!!!!!222!!!!.$!!!!!!!!!!!!!!!,$",
       "#'!)$!!!!!!!!%$+!!!!!!!$!!!!!!!!!!!22!!!!!$!!!!!!!#$$$$'!#$$",
       "$$$$$!!!!!!!!!!!!!!!!!!$-!!!!!!!!!!!22$'!)$!!!!!#$$$+!!%$*$/",
       "%$+.$!!!!!!!!!!!!!!!!!!%$$$'!!!!!#$$$2$$$$$-!!,$$/!!!!!!!!$!",
       "!!!!$!!!!!!!!!!!!!!!!!!!!!%$$'!#$$+!!22!!($$$$$$+!!!!!!!!!$!",
       "!!!#+!!!!!!!!!!!!!!!!!!!!!!$/%$+!!!!!22!!!!!!!!!!!!!!!!!!!1!",
       "!!,+!!!!!!!!!!!!!!!!!!!!!!!$!!!!!!!!!22!!!!!!!!!!!!!!!!!!!1!",
       "!#*!!!!!!!!!!!!!!!!!!!#$$$$$'!!!!!!!!!2!!!!!!!!!#$'!!!!!!!$!",
       "!$!!!!!!!!!!!!!!!!!!,$$$$*!!%$$'!!!!!!2!!!!!!!!!$$$!!!!!!#*!",
       "!$!!!!!!!!!!!!!!!!!#$$*!!!!!!!!$$$$0!!22!!!!!!!!$$+!!!!!!$!!",
       "!$!!!!!!!!!!!!!!!!,$/!!!!1!11!#$/!%$'!22!!!!!!!!%+!!!!!!!$0!",
       "!('!!!!!!!!!!!!!#$$+!!!!!1!1#$$*!!!!($$2$$$$$'!!!!!!!!!!!($!",
       "!!$'!!!!!!!!!!!#$*!!!!!!1!1!$*!!!!!!!!!22!!($$'!!!!!!!!!!,$!",
       "!!$$-!!!!!!!!!,$+!!!!!!!11!!$'!!!!!!!!!!22!!!$$-!!!!!!!,$$+!",
       "!!%$$$$$$$$$$$$*!!!!!#$'!1!,$+!!#$'!!!!!222!!!($0!#$$$$$+!!!",
       "!!!!!!!!.$$/!!!!!!!!!$$+!!#$/!!#$$$!!!!!!222!!!%$$$$+!!!!!!!",
       "!!!!!!!!!%$$$'!!!!!!!%$0!#$$$$$$$$$!!!!!!!222!!!!!!!!!!!!!!!",
       "!!!!!!!!!!!!%+!!!!!!!!!%$+!!!!!!!%+!!!!!!!!222!!!!!!!!!!!!!!"}
   acmap={"                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                      !     ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            "}
  itmap={"                                                            ",
         "                                                            ",
         "                          $                                 ",
         "                                                            ",
         "                                                            ",
         "                                                      !     ",
         "         !                                                  ",
         "                 !                                          ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "         !                                         !        ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                        !   ",
         "                                                            ",
         "              #                                             ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                 !          ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                      !          !                          ",
         "                                                            ",
         "                                                            "}
 stmap={"!!!!!!!!!!!  !!!!!!!!!!!!!!!!!!!!!  !!!!!!!!!!!!!!!!!!!!!!!!",
        "!!           !!!!!!!!!!!!   !!!!%         !!!!!!!!!!      !!",
        "!!  !!!!!!!    $  !!!!!!!   !!!!!  !!!!   !!!!!!!!!   !!!  !",
        "!!  !!!!!!!!!!!!  !!!!!!!   !!!!!  !!!!   !!!!!!!!!   !!!  !",
        "!! !!!!!!!!!!!!!!  !!!!!!! !!!!!! !!!!!!!  !!!!!!!! &&&&!! !",
        "!! !!!!!!!!!!!!!!! C!!!!!! !!!!!! !!!!!!!   !!!!       &!! !",
        "!! !!!!!! C!!!!! CC !!!!!  !!!!!  !!!!!!!!! !!!$   !&  &!! !",
        "!! !!!!!!C !!!!!CC !!!!!! !!!!!!  !!!!!!!!! !!!! !!!&&&&!  !",
        "!!   !!!!$!!!!!!! CC !!!# !!!!!! !!!!!!!!!! !!   !!!!!!!!  !",
        "!!!  !!$! !!!!!!!!!!$!!!!  !!       !!!!!!! !   !!!!!     !!",
        "!!!       !!!!!!!!!     !!    !  !  !  !!!!   !!!!!!!  !! !!",
        "!!! !!!!#    !!!!   !   !!!!!!!  !     !##    !!   !! !!! !!",
        "!   !!!!!!!$  !!  !!!!! !!!!!!   !!!!!      !!!  ! !! !!! !!",
        "!   !!!!!!!!!     !!!!!  !!!!!  !!!!!!!!$###!!  !!    !!! !!",
        "!  !!!!! C!!!!!!!!!!!!!!  !!!!  !!!!!!!!!!!!!   !!!!!!!!  !!",
        "!  !!!!! CC!!!!!!!!!!!!!!  !!!  !!!!!!!!!!!!!  !!!CC  $     ",
        "! !!#!!CC  !!!!!!!!!!!!!!! !!!   !!!!!C C!!!!!  !! CC!!!!!  ",
        "! !!!!  !!!!!!!!!!!!!!!!!! $!!   !!!!! C !!#!!  !!!!!!!!!!! ",
        "!  !! $!!!!!!!!!!!!!!!!!!! !!!!  !!!!!!CC!!!!!   $   ! C C! ",
        "!!  !  !!!!!!!!!!!!!!!!!!  !!!!!  !!!!! C!!!!!!!!!!  $ CC ! ",
        "!!  ! !!!!!!!   !!!!!!!   !!!!!!!   !!!! $ !!!!!!!!!!!CC !! ",
        "!!!   ! !! C    !!!!!!!   !!!!!!!!   !!!!! !!!!!!!!!!!!!!!  ",
        " C!! !!C!!C!!   !!!!!!! #!!!!!!!!!!  !!!!! !!!!!!$      !   ",
        " C   !!C!! !!!!!!!!!!!! !!!!!!!!!!!!    !! !!!!!     !!    !",
        "  C! !!  !C!!!!!!!!!!!!     !!!!!          !!!   !!!!!!!!! !",
        "!!!!$!!!C! !!!!!!!!!!!!!!!    !    !!  !!        !#!!!!!!! !",
        "!!!  !!! C !!  C!!!!!!!!!!! !   !!!!!  !!!!!!!!!!!!!!!!!!! !",
        "!!  !!!! !!!! ! C !!!!!!!!!$!!!!!!!!!  !!!!!!!!!!!!!!!!!!! !",
        "!  !!!!!C!!!!C!!!!!!!!       !!!!!!!!% !!!!!!!!! CC!!!!!!! !",
        "! !!!!!!C  C  !!!!!!      !!    !!!!!! !!!!!!!!!CC !!!!!!  !",
        "! !!!!!! !!!!!!!!!!    !!!!!!!!     !!  !!!!!!!!  CC!!!!! $!",
        "! !!!!!!C !!!!!!!!  !!!!!!#!!!  !$   !  !!!!!!!! C! !!!!!  !",
        "!  !!!!!! !!!!!!    !!!!!!#!    !!!!          !!!!!C!!!!!  !",
        "!!  !!!!!C!!!!!   !!!!!!!#!!  !!!!!!!!!  !!    !!#!C!!!!!  !",
        "!!  !#!!! $!!!   !!!!!!!!!!!  !!!!!!!!!!  !!!   !!!$!!!    !",
        "!!              !!!!!C  !!!   !! CC!!!!!   !!!   !       !!!",
        "!!!!!!!!!  !!!!!!!!!! CC!!  !!! CCC!!!!!!   !!!      !!!!!!!",
        "!!!!!!!!!  CCC!!!!!!!CC !    $ C C !!!!!!!   !!!!!!!!!!!!!!!",
        "!!!!!!!!!!!!CC!!!!!!!!!   !!!!!!! C!!!!!!!!   !!!!!! !!  !!!"}
create_world_by_map(level)
draw_map(0,0,stmap,stones)
draw_map(0,0,itmap,items)
draw_map(0,0,acmap,actors)
SetAttrib(enigma.GetItem(26,2),"text","A Stone, a Tree, and Trees be Three,   --   For to Defeat the Enemy,   --   Between Might Lay   --   A Secret Way!   --   (If this you see, then press F3.)")
display.SetFollowMode(display.FOLLOW_SCROLLING)
if not difficult then
  set_item("it-seed", 53, 5);
end
oxyd_shuffle()




























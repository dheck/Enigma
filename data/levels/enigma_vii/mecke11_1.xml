<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd"
  xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected >
    <el:info el:type="level">
      <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11"/>
      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
      <el:author  el:name="mecke" el:email="" el:homepage=""/>
      <el:copyright>Copyright © 2008 Thomas Bernhardt</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="0.92">
        <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
      </el:compatibility>
      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force"
        el:scoreunit="duration" el:scoretarget="time"/>
      <el:comments>
        <el:credits el:showinfo="true" el:showstart="false">Thanks to Ronald Lamprecht for testing and feedback</el:credits> 
      </el:comments>
      <el:score el:easy="28:51" el:difficult="33:44"/>
    </el:info>
    <el:luamain><![CDATA[
function file_oxyd(x,y,f)
    oxyd_default_flavor=f
    oxyd(x,y)
end
levelh=36
levelw=57
enigma.FlatForce=30
enigma.SlopeForce=30
enigma.ElectricForce=30
cells={}
items={}
actors={}
stones={}
actors[" "]=cell{}
stones[" "]=cell{}
cells[" "]=cell{}
items[" "]=cell{}
cells["!"]=cell{floor="fl-abyss"}
stones["!"]=cell{stone="st-block"}
cells["#"]=cell{floor="fl-acblack"}
stones["#"]=cell{stone="st-death"}
cells["$"]=cell{floor="fl-normal"}
stones["$"]=cell{stone="st-laser-s"}
stones["%"]=cell{stone="st-bolder-w"}
stones["&"]=cell{stone="st-fart"}
stones["'"]=cell{stone="st-door-h"}
cells["%"]=cell{floor="fl-bluegray"}
stones["("]=cell{stone="st-actorimpulse_invisible"}
cells["&"]=cell{floor="fl-bluegreenx"}
stones[")"]=cell{stone="st-grate1"}
items["!"]=cell{item="it-hstrip"}
stones["*"]=cell{stone="st-mirror-p-m"}
stones["+"]=cell{stone="st-rock2"}
cells["'"]=cell{floor="fl-water"}
stones[","]=cell{stone="st-rock1_hole"}
items["#"]=cell{item="it-trigger"}
stones["-"]=cell{stone="st-thief"}
items["$"]=cell{item="it-puller-s"}
stones["."]=cell{stone="st-puzzle2-es"}
items["%"]=cell{item="it-extralife"}
stones["/"]=cell{stone="st-puzzle2-ns"}
stones["0"]=cell{stone="st-puzzle2-ne"}
cells["("]=cell{floor="fl-swamp"}
stones["1"]=cell{stone="st-puzzle2-ew"}
stones["2"]=cell{stone="st-glass"}
items["&"]=cell{item="it-key_b"}
stones["3"]=cell{stone="st-laser-e"}
stones["4"]=cell{stone="st-puzzle2-sw"}
stones["5"]=cell{stone="st-break_invisible"}
stones["6"]=cell{parent={{file_oxyd,"a"}}}
stones["7"]=cell{stone="st-lasertimeswitch"}
stones["8"]=cell{stone="st-oneway-w"}
stones["9"]=cell{stone="st-wood"}
stones[":"]=cell{stone="st-puzzle2-nw"}
stones[";"]=cell{stone="st-key_b"}
cells[")"]=cell{floor="fl-space"}
stones["<"]=cell{stone="st-actorimpulse"}
stones["="]=cell{stone="st-yellow"}
stones[">"]=cell{stone="st-death_invisible"}
stones["?"]=cell{stone="st-brownie"}
items["'"]=cell{item="it-flagblack"}
items["("]=cell{item="it-glasses"}
function ac_top(x,y)
n=""
r=0
f=0
 init=false
 if (x==19) and (y==25) then
  n="ac19x25"
  r=1
  f=1
  init=FALSE
 end
 if (x==20) and (y==26) then
  n="ac20x26"
  r=1
  f=1
  init=FALSE
 end
 if (x==21) and (y==27) then
  n="ac21x27"
  r=1
  f=1
  init=FALSE
 end
 if (x==22) and (y==28) then
  n="ac22x28"
  r=1
  f=1
  init=FALSE
 end
 if (x==23) and (y==29) then
  n="ac23x29"
  r=3
  f=3
  init=TRUE
 end
 if (x==34) and (y==22) then
  n="ac34x22"
  r=10
  f=10
  init=FALSE
 end
 if (x==34) and (y==26) then
  n="ac34x26"
  r=10
  f=10
  init=FALSE
 end
 if (x==36) and (y==22) then
  n="ac36x22"
  r=10
  f=10
  init=FALSE
 end
 if (x==36) and (y==26) then
  n="ac36x26"
  r=10
  f=10
  init=FALSE
 end
 if (x==38) and (y==22) then
  n="ac38x22"
  r=10
  f=10
  init=FALSE
 end
 if (x==38) and (y==26) then
  n="ac38x26"
  r=10
  f=10
  init=FALSE
 end
 if (x==40) and (y==22) then
  n="ac40x22"
  r=10
  f=10
  init=FALSE
 end
 if (x==40) and (y==26) then
  n="ac40x26"
  r=10
  f=10
  init=FALSE
 end
set_actor("ac-top",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
end
actors["!"]=cell{parent={{ac_top}}}
stones["@"]=cell{stone="st-stone_break"}
items[")"]=cell{item="it-shogun-l"}
items["*"]=cell{item="it-seed"}
stones["A"]=cell{stone="st-door-v"}
stones["B"]=cell{stone="st-stoneimpulse-hollow"}
items["+"]=cell{item="it-magicwand"}
stones["C"]=cell{stone="st-stoneimpulse"}
stones["D"]=cell{stone="st-glass_move"}
stones["E"]=cell{stone="st-rock3"}
cells["*"]=cell{floor="fl-light"}
stones["F"]=cell{stone="st-oneway-s"}
cells["+"]=cell{floor="fl-sahara"}
stones["G"]=cell{stone="st-rock6"}
stones["H"]=cell{stone="st-oneway-e"}
stones["I"]=cell{stone="st-oneway-n"}
stones["Y"]=cell{stone="st-knight"}
items[","]=cell{item="it-coin2"}
items["-"]=cell{item="it-cherry"}
items["9"]=cell{item="it-springboard"}
function ac_blackball(x,y)
n=""
p=0
f=0
 if (x==36) and (y==17) then
  n="ac36x17"
  p=0
  mf=1
 end
set_actor("ac-blackball",x+0.5,y+0.5,{player=p,name=n,mouseforce=mf})
end
actors["#"]=cell{parent={{ac_blackball}}}
items["."]=cell{item="it-vstrip"}
cells[","]=cell{floor="fl-red"}
stones["J"]=cell{stone="st-black4"}
items["/"]=cell{item="it-key_a"}
stones["K"]=cell{stone="st-laser-w"}
stones["L"]=cell{stone="st-key_a"}
level={"!!##########################!!!!!########################",
       "!!##############!!!#########!!!!!########################",
       "!!#####!########!!!#!#######!!!!!########################",
       "!!##############!!!#########!!!!!########################",
       "!!#####################!#!##!!!!!########################",
       "!!##!#####!##########!######!!!!!#'''''''################",
       "!!#####################!####!!!!!#'''''''################",
       "!!##############!!!######!##!!!!!#''*)*''################",
       "!!#####!########!!!#########!!!!!#'')')''################",
       "!!!#############!!!#########!!!!!#''*)*''################",
       "!!##!!!!!!!!!!!!!!!!!#!!!!!#!!!!!#'''''''################",
       "!!%!####!###!#!####%!#!#####!!!!!#'''''''################",
       "!!#!##(#!###!#!#####!#!#####!!!!!########################",
       "!!#!####!###!#!#)))#!#!#####!!!!!########################",
       "!!#!##(#!###!#!#)))#!#!#####!!!!!########################",
       "!!#!####!###!#!#)))#!#!##################################",
       "!!#!##(#!###!#!#)))#!#)##################################",
       "!!#!####!###!#!#)#)#!#)####)##%%%%%%%%%%#%#%#%#%#%%%%%#%#",
       "!!#!##(#!###!#!#)))#!#)##################################",
       "!!#!####!###!#!#)))#!#!##################################",
       "!!#!##(#!###!#!#)))#!#!##################################",
       "!!#!####!###!#!#)))#!#!###################!!!!!!!!!!!!!!!",
       "!!#!##(#!###!#!#####!#!###################!!!!!!!!!!!!!!!",
       "!!%!####!###!#!####%!#!###################!!!!!!!!!!!!!!!",
       "##&!!!!!!!!!!#!!!!!!!#!!!!!+++++++#######+###############",
       "######################!####################,,,,,,,,,,,,,#",
       "#######################!###################,,,,,,,,,,,,,#",
       "########################!##################,,,,,,,,,,,,,#",
       "#########################!#################,,,,,,,,,,,,,#",
       "########################'#'################,,,,,,,,,,,,,#",
       "###'!'!'!'!!!!!!!!!!!!!!!!!################,,,,,,,,,,,,,#",
       "###'########((((!((((!((((!################,,,,,,,,,,,,,#",
       "###'#'!'!'#!((((#((((!((((!################,,,,,,,,,,,,,#",
       "#####'#'#'#!((((!((((#((((!##########)###)#,,,,,,,,,,,,,#",
       "#!!'!'!'!'!!((((!((((!((((#############)#################",
       "###########!!!!!!!!!!!!!!!!##############################"}
   acmap={"                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                    #                    ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                  ! ! ! !                ",
          "                                                         ",
          "                                                         ",
          "                   !                                     ",
          "                    !             ! ! ! !                ",
          "                     !                                   ",
          "                      !                                  ",
          "                       !                                 ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         ",
          "                                                         "}
  itmap={"                                                         ",
         "                                                         ",
         "                       **                                ",
         "                     )                                   ",
         "      % %             *                                  ",
         "       &                )            .            *      ",
         "      % %             *  )           .           * *     ",
         "                     ) **           - -           *      ",
         "                                  !!9   !                ",
         "                                    - -                  ",
         "                 '                   .                   ",
         "     #             (                 .                   ",
         "   !                                                     ",
         "     #                                                   ",
         "   !                                                     ",
         "     #                                                   ",
         "   !                                                     ",
         "     #                   +      #               #        ",
         "   !                                                     ",
         "     #                                                   ",
         "   !                                                     ",
         "     #                                                   ",
         "   !                                                     ",
         "     #             (                                     ",
         "                                  ,                      ",
         "                                                         ",
         "     $                                                   ",
         "                                                         ",
         "                 #       #                               ",
         "              $                                  /       ",
         "                   $                                     ",
         "      #                                                  ",
         "                                                         ",
         "                                                         ",
         "                                                         ",
         "                                                         "}
 stmap={"!!!!!!!!!!!!!!!!#<#!!!!!!!!EEEEEEE#######EEEEEEEEEEEEEEEE",
        "!            9 9 < 9       9  ( 5            ? ? ? ? ? ?E",
        "!  #       #     <  @@@@@@@   ( 5             ? ? ? ? ? E",
        "!    )   )       <  @@@@@@@   ( 5            ? ? ? ? ? ?E",
        "!     .14    ####<# @@@@@@@   ( 5             ? ? ? ? ? E",
        "! &   /2/    #;##<# @@@@@@@   ( 5            ? ? ? ? ? ?E",
        "!     01     #9##<# @@@@@@@   ( 5             ? ? # ? ? E",
        "!    )   )      5<5 @@@@@@@   ( 5    !       ? ? ? ? ? ?E",
        "!  #       #    5<5 @@@@@@@   ( 5   ! D       ? ? ? ? ? E",
        "!            9 95<59       9  ( 5    !       ? ? ? ? ? ?E",
        "!!'!55555555           (((5F5((55             ? ? ? ? 9 E",
        "55Y)% #3  65     <     =                     ? ? ? ? ? ?E",
        "   ),- 3 (((           (=                               E",
        "  Y)% #3  6(           ( =                              E",
        "   ),- 3   (    < <    =  =               ##############!",
        "  Y)% #3  6(           #=   GGGGG                       !",
        "   ),- 3   (    = =     #=  G                           !",
        "  Y)% #3  6( :  >6> 5   A = 3                 %       K =",
        "   ),- 3   (    = =     #=  G                           !",
        "  Y)% #3  6(           #=   GGGGG555555555              !",
        "   ),- 3   (    < <    =  =      5 5 5 5 5##############!",
        "  Y)% #3  6(           ( =       5 5 5 5 5               ",
        "   ),- 3 (((           (=        5 5 5 5 5               ",
        "55()% #3  65     <     =         5 5 5 5 5               ",
        "!!'!55555555        5'5((C() )))))2222222)              (",
        "!$ *     +     *   J    BBBG!!!!!5 5 5 5 5   <  <   <  <(",
        "!    *   +7++*+   J     BBBAHIIHI5 5 5 5 5  <  <<< <  < (",
        "!  + ++*+++#+ +  J      CDCGHHIHI5 5 5 5 5 <  <J < J<   (",
        "!  +     *        J     B B!HHIII5 5 5 5 5   <<  J<   <<(",
        "!     #      +     J    BCBGHHFHI5 5 5 5 5    < J J G   L",
        "!          5555555555555555!8HFHI5 5 5 5 5  < < <J <  < (",
        "!%         8  # ?    ?    5GHHHHH5 5 5 5 5 < < J < J<   (",
        "!          5    ?  # ?    5!FHFFH555555555     < <<<    (",
        "!          5    ?    ?  # 5GIHH8H          < <<  <      (",
        "!          5    ?    ?    8AIHHH8                       (",
        "###########               5G!!!!!!!!!--------------------"}
create_world_by_map(level)
draw_map(0,0,stmap,stones)
draw_map(0,0,itmap,items)
draw_map(0,0,acmap,actors)
SetAttrib(enigma.GetStone(1,25),"on",FALSE)
SetAttrib(enigma.GetItem(5,11),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,13),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,15),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,17),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,19),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,21),"invisible",FALSE)
SetAttrib(enigma.GetItem(5,23),"invisible",FALSE)
SetAttrib(enigma.GetItem(6,31),"invisible",FALSE)
SetAttrib(enigma.GetStone(7,11),"on",FALSE)
SetAttrib(enigma.GetStone(7,12),"on",FALSE)
SetAttrib(enigma.GetStone(7,13),"on",FALSE)
SetAttrib(enigma.GetStone(7,14),"on",FALSE)
SetAttrib(enigma.GetStone(7,15),"on",FALSE)
SetAttrib(enigma.GetStone(7,16),"on",FALSE)
SetAttrib(enigma.GetStone(7,17),"on",FALSE)
SetAttrib(enigma.GetStone(7,18),"on",FALSE)
SetAttrib(enigma.GetStone(7,19),"on",FALSE)
SetAttrib(enigma.GetStone(7,20),"on",FALSE)
SetAttrib(enigma.GetStone(7,21),"on",FALSE)
SetAttrib(enigma.GetStone(7,22),"on",FALSE)
SetAttrib(enigma.GetStone(7,23),"on",FALSE)
SetAttrib(enigma.GetStone(10,26),"on",FALSE)
SetAttrib(enigma.GetItem(17,28),"invisible",FALSE)
SetAttrib(enigma.GetItem(25,28),"invisible",FALSE)
SetAttrib(enigma.GetStone(28,17),"on",FALSE)
SetAttrib(enigma.GetItem(32,17),"invisible",FALSE)
SetAttrib(enigma.GetItem(48,17),"invisible",FALSE)
SetAttrib(enigma.GetStone(54,17),"on",FALSE)
if (not difficult) then
set_floor("fl-acblack",39,8)
set_item("it-extralife",41,7)
set_item("it-extralife",41,8)
set_item("it-extralife",41,9)
set_item("it-cherry",39,8)
else
set_stone("st-glass",49,29)
set_stone("st-glass",55,29)
set_item("it-hstrip",39,8)
end
Signal ("it(5 23)","st(7 23)")
Signal ("it(5 21)","st(7 21)")
Signal ("it(5 19)","st(7 19)")
Signal ("it(5 17)","st(7 17)")
Signal ("it(5 15)","st(7 15)")
Signal ("it(5 13)","st(7 13)")
Signal ("it(5 11)","st(7 11)")
Signal ("it(32 17)","st(28 17)")
Signal ("it(32 17)","st(54 17)")
Signal ("it(6 31)","st(1 25)")
Signal ("st(1 25)","st(10 26)")
Signal ("st(56 29)","st(27 34)")
Signal ("st(56 29)","st(27 26)")
Signal ("st(10 26)","st(2 24)")
Signal ("st(14 5)","st(2 10)")
Signal ("it(48 17)","st(54 17)")
Signal ("it(48 17)","st(28 17)")
Signal ("st(10 26)","st(21 24)")
Signal ("it(17 28)","st(1 25)")
Signal ("it(25 28)","st(24 17)")
oxyd_shuffle()
    ]]></el:luamain>
      <el:i18n>
        <el:string el:key="title">
          <el:english el:translate="false"/>
        </el:string>
        <el:string el:key="subtitle">
          <el:english el:translate="false"/>
        </el:string>
     </el:i18n>
  </el:protected>
</el:level>

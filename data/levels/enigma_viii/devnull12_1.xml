<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected>
    <el:info el:type="level">
      <el:identity el:title=" - Meditation - " el:id="devnull12"/>
      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
      <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
      <el:copyright>Copyright Â© 2008 dev0</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="1.10"/>
      <el:modes el:easy="true" el:single="true" el:network="false"/>
      <el:comments>
        <el:credits el:showinfo="true" el:showstart="true"></el:credits>
        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
      </el:comments>
      <el:score el:easy="0:33" el:difficult="0:55"/>
    </el:info>
    <el:luamain><![CDATA[
wo["ConserveLevel"] = false

if wo["IsDifficult"] then
  wo["ProvideExtralifes"] = false
end

function np(val, sender)
  if val == false then
    wo[{ 6, 6}] = {"it_sensor", invisible = true}
  end
end

-- tiles
ti["."] = {"fl_dark"}
ti[" "] = ti["."] .. {"it_sensor", invisible = true}
ti[":"] = ti["."] .. {"it_sensor", invisible = true, action = "callback", target = "np"}

ti["w"] = ti["."] .. {"it_wrench"}

ti["N"] = ti[" "] .. {"st_window_n",    secure = true}
ti["E"] = ti[" "] .. {"st_window_e",    secure = true}
ti["S"] = ti[" "] .. {"st_window_s",    secure = true}
ti["W"] = ti[" "] .. {"st_window_w",    secure = true}

ti["1"] = ti[" "] .. {"st_window_nw",   secure = true}
ti["2"] = ti[" "] .. {"st_window_ne",   secure = true}
ti["3"] = ti[" "] .. {"st_window_es",   secure = true}
ti["4"] = ti[" "] .. {"st_window_sw",   secure = true}

ti["I"] = ti[" "] .. {"st_window_nes",  secure = true}
ti["C"] = ti[" "] .. {"st_window_nsw",  secure = true}
ti["H"] = ti[" "] .. {"st_window_ew",   secure = true}
ti["J"] = ti[" "] .. {"st_window_ns",   secure = true}
ti["O"] = ti[" "] .. {"st_window_nesw", secure = true}

if wo["IsDifficult"] then
  ti["h"] = ti[" "] .. {"it_meditation_volcano", essential = 1}
  ti["8"] = ti["h"] .. {"st_window_s",    secure = true}
  ti["7"] = ti["h"] .. {"st_window_n",    secure = true}
else
  ti["h"] = ti[" "] .. {"it_meditation_dent", essential = 1}
  ti["8"] = ti["h"] .. {"st_window_s",    secure = true}
  ti["7"] = ti["h"] .. {"st_window_n",    secure = true}
end
ti["@"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential=1}
ti["9"] = ti["w"] .. {"#ac_pearl_white", player = 0, essential=1}
ti["6"] = ti[":"] .. {"#ac_pearl_white", player = 0, essential=1}

width, height = wo(ti, " ",
-- 0         1         2
-- 0123456789012345678901
{ "1NNNNNNNNNNNNNNNNNN2", --  0
  "4hS S S S S S S S 8E", --  1
  "WN N N N N N N N N 2", --  2
  "WS S S S S S S S S 3", --  3
  "1 N N N N N N N N NE", --  4
  "4 S S S S S S S S SE", --  5
  "WJ J J9J@J@J6J J J I", --  6
  "1 N N N N N N N N NE", --  7
  "WS S S S S S S S S 3", --  8
  "1 N N N N N N N N NE", --  9
  "WS S S S S S S S S 3", -- 10
  "1hN N N N N N N N 7E", -- 11
  "4SSSSSSSSSSSSSSSSSS3", -- 12
})

    ]]></el:luamain>
    <el:i18n>
      <el:string el:key="title">
        <el:english el:translate="false"/>
      </el:string>
    </el:i18n>
  </el:protected>
</el:level>

<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd"
  xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected >
    <el:info el:type="level">
      <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
      <el:author  el:name="mecke" el:email="" el:homepage=""/>
      <el:copyright>Copyright © 2008 Thomas Bernhardt</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="0.92">
        <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
      </el:compatibility>
      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force"
        el:scoreunit="duration" el:scoretarget="time"/>
      <el:comments>
        <el:credits el:showinfo="true" el:showstart="false">Thanks to Ronald Lamprecht for some patterns and code examples</el:credits>
      </el:comments>
      <el:score el:easy="20:18" el:difficult="25:52"/>
    </el:info>
    <el:luamain><![CDATA[
function file_oxyd(x,y,f)
    oxyd_default_flavor=f
    oxyd(x,y)
end
levelh=39
levelw=60
enigma.FlatForce=30
enigma.SlopeForce=30
enigma.ElectricForce=30
cells={}
items={}
actors={}
stones={}
actors[" "]=cell{}
stones[" "]=cell{}
cells[" "]=cell{}
items[" "]=cell{}
cells["!"]=cell{floor="fl-normal"}
stones["!"]=cell{stone="st-yellow"}
stones["#"]=cell{stone="st-death"}
cells["#"]=cell{floor="fl-rough-blue"}
cells["$"]=cell{floor="fl-light"}
stones["$"]=cell{stone="st-knight"}
stones["%"]=cell{stone="st-grate1"}
cells["%"]=cell{floor="fl-abyss"}
cells["&"]=cell{floor="fl-water"}
cells["'"]=cell{floor="fl-sahara"}
cells["("]=cell{floor="fl-bluegray"}
stones["&"]=cell{parent={{file_oxyd,"d"}}}
cells[")"]=cell{floor="fl-leavesc1"}
cells["*"]=cell{floor="fl-gradient9"}
cells["+"]=cell{floor="fl-himalaya"}
cells[","]=cell{floor="fl-gradient10"}
stones["'"]=cell{stone="st-actorimpulse_invisible"}
stones["U"]=cell{stone="st-switch_black"}
cells["i"]=cell{floor="fl-ice"}

function ac_blackball(x,y)
n=""
p=0
f=0
 if (x==8) and (y==18) then
  n="ac8x18"
  p=0
  mf=1
 end
set_actor("ac-blackball",x+0.5,y+0.5,{player=p,name=n,mouseforce=mf})
end
actors["!"]=cell{parent={{ac_blackball}}}
items["!"]=cell{item="it-extralife"}
items["#"]=cell{item="it-spring2"}
items["$"]=cell{item="it-vstrip"}
stones["("]=cell{stone="st-key_a"}
stones[")"]=cell{stone="st-key_b"}
cells["-"]=cell{floor="fl-gradient11"}
cells["."]=cell{floor="fl-gradient12"}
items["%"]=cell{item="it-brush"}
stones["*"]=cell{stone="st-break_bolder"}
cells["/"]=cell{floor="fl-bluegreenx"}
stones["+"]=cell{stone="st-glass_move"}
stones[","]=cell{stone="st-door-v"}
cells["0"]=cell{floor="fl-space"}
stones["-"]=cell{stone="st-blue-sand"}
stones["."]=cell{stone="st-oneway_black-w"}
stones["/"]=cell{stone="st-oneway_black-e"}
stones["P"]=cell{stone="st-oneway_black-s"}
items["&"]=cell{item="it-crack3"}
stones["0"]=cell{stone="st-brick_magic"}
stones["1"]=cell{stone="st-rock1_hole"}
stones["B"]=cell{stone="st-black4"}
stones["2"]=cell{stone="st-bolder-w"}
items["'"]=cell{item="it-trigger"}
items["("]=cell{item="it-springboard"}
stones["3"]=cell{stone="st-door-h"}
function ac_top(x,y)
n=""
r=0
f=0
 init=false
 if (x==25) and (y==4) then
  n="ac25x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==9) then
  n="ac26x9"
  r=10
  f=10
  init=FALSE
 end
 if (x==27) and (y==4) then
  n="ac27x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==28) and (y==11) then
  n="ac28x11"
  r=10
  f=10
  init=FALSE
 end
 if (x==29) and (y==4) then
  n="ac29x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==30) and (y==9) then
  n="ac30x9"
  r=10
  f=10
  init=FALSE
 end
 if (x==31) and (y==4) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==26) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==28) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==30) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==32) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==34) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
 if (x==26) and (y==36) then
  n="ac31x4"
  r=10
  f=10
  init=FALSE
 end
set_actor("ac-top",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
end
actors["#"]=cell{parent={{ac_top}}}
stones["4"]=cell{stone="st-laser-e"}
items[")"]=cell{item="it-coffee"}
items["*"]=cell{item="it-key_b"}
items["+"]=cell{item="it-blackbomb"}
stones["5"]=cell{stone="st-black3"}
stones["6"]=cell{stone="st-rock1"}
cells["1"]=cell{floor="fl-rough-red"}
stones["7"]=cell{stone="st-bolder-e"}
stones["Z"]=cell{stone="st-bolder-n"}
stones["Y"]=cell{stone="st-bolder-s"}
cells["2"]=cell{floor="fl-samba"}
stones["8"]=cell{stone="st-rock4"}
items[","]=cell{item="it-wormhole"}
items["-"]=cell{item="it-puller-n"}
items["."]=cell{item="it-hstrip"}
cells["3"]=cell{floor="fl-swamp"}
stones["9"]=cell{stone="st-actorimpulse"}
cells["4"]=cell{floor="fl-bluegreen"}
stones[":"]=cell{stone="st-puzzle-hollow"}
items["/"]=cell{item="it-hammer"}
cells["5"]=cell{floor="fl-gradient4"}
items["0"]=cell{item="it-key_a"}
items["1"]=cell{item="it-magicwand"}
items["3"]=cell{item="it-floppy"}
stones[";"]=cell{stone="st-black4"}
stones["<"]=cell{stone="st-laser-s"}
stones["="]=cell{stone="st-laser-n"}
stones[">"]=cell{stone="st-wood"}
cells["6"]=cell{floor="fl-acwhite"}
cells["7"]=cell{floor="fl-gradient14"}
stones["?"]=cell{stone="st-likeoxydd"}
stones["@"]=cell{stone="st-glass"}
stones["A"]=cell{stone="st-door-h-open"}
items["2"]=cell{item="it-cherry"}
stones["V"]=cell{stone="st-floppy"}
stones["W"]=cell{stone="st-stone_break"}
function ac_rotor(x,y)
n=""
r=0
f=0
 init=false
 if (x==58) and (y==18) then
  n="ac58x18"
  r=7
  f=7
  init=FALSE
 end
set_actor("ac-rotor",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
end
actors["$"]=cell{parent={{ac_rotor}}}
level={"!!!!!!!!!!!!!!!!!!!!!!!!!!0!0!0!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
       "!%#%################!!!!!!!!!!!!!!!!!%%%%$44$44$2%!!!!!!!!!!",
       "!#%!!!!!&!&!&!!!!!!#!!!!!0!0!0!0!!!!!22%%%3333322%%!%6%%%%(!",
       "!%!&&&&&&&&&&&&&&&!#!!!!!!!!!!!!!!!!!%2%%%%32322%%!!!!!&!&!!",
       "!#!&&&&&)i&i)&&&&&!#!!!!0!0!0!0!0!!!!%2%%%%3032$%%%!(%(&%%(!",
       "!#!&&&)iiiiiii)&&&!#!!!!!!!!!!!!!!!!!%2222200024%4!!!&!&!!!!",
       "!#!&!'&iii!iii&'!&!#!!!0!0!0!0!0!0!!!%2%33330334%4%!%&%%(%6!",
       "!#!&&&)iiiiiii)&&&!#!!!!!!!!!!!!!!!!!22%3$332534%4!!!&!!!&!!",
       "!#!&&&&&)i&i)&&&&&!#!!0!0!0!0!0!0!0!!%%%33333!5$%%%!%%%%(&%!",
       "!#!&&&&&&&&&&&&&&&!%!!!!!!!!!!!!!!!!!%%%333333*5%%!!!!!!!&!!",
       "!#!!!!!!&!!!&!!!!!%#!0!0!0!0!0!0!0!0!%%%%%%%%%$55%%!(%&%%(%!",
       "!################%#%!!!!!!!!!!!!!!!!!%%%%%%%%%%%*5!!!!!!!!!!",
       "!!!!!!!!!!!!!!!!!!!!0!0!0!0!0!0!0!0!0!!!!!!!!!!!!*5!%%&%&!%!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*!!!!!!!!!",
       "!!!!!!!!!!!!!!!!!!!//////////////////!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!!!!!!!!!!!!!!/((((((((((((((((/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!*+%%+-!!!!!!!/(!&&&&&&&&&&&&!(/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!+%%%%+!!!!!!!/(!!!!!&!!&!!!!!(/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!%%''%%!!!!!!!/(!!!&!&!!&!!!!1(/!1!1!1!1!1!1!!!!-!!$$$!",
       "!!!!!!%%''%%!!!!!!!/(!!!&!&!!&!!!!1(/!1!1!1!1!1!1!!!!7!!$$$!",
       "!!!!!!+%%%%+!!!!!!!/(!!!!!&!!&!!!!!(/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!,+%%+.!!!!!!!/(!&&&&&&&&&&&&!(/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!!!!!!!!!!!!!!/((((((((((((((((/!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!!!!!!!!!!!!!!//////////////////!!!!!!!!!!!!!!!!!!!$$$!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!222%%%%%%%22!!!!!!!!!!",
       "!iiiiiiiiiiiiiiiiii!!!!!!!!!i!!!!!!!!!2%22%%%%%22%%!!!!!!!!!",
       "!iiiiiiiiiiiiiiiiii!!!!!!!!!i!!!!!!!!!%%%22%%%22%%!!!!!!!!!!",
       "!iiiiiiiiiiiiiiiiii!!!!!!!!!i!!!!!!!!!%%%%22%22%%%%!!!!!!!!!",
       "!ii&&&&&&&&&&&&&&ii!!!!!!!!!!!!!!!!!!!%%%%%222%%%%!!!!!!!!!!",
       "!ii&&&&&&&&&&&&&&ii!!!!!&!!!i!!!&&!!&!%%%%/%%%/%%%%!!!!!!!!!",
       "!ii&&&&&&&&&&&&&&ii!!!!&!&!!i!!&!!&!!!%%%%%%%%%%%%!!!!!!!!!!",
       "!$i&&&&&&&&&&&&&&i$!!!&!0!&!i!&!00!&&!%%/%/%%%/%/%%!!!!!!!!!",
       "!$$&&&&&&&&&&&&&&$$!!!!&!&!!!!!&!!&!!!%%%%%%%%%%%%!!!!!!!!!!",
       "!$$&&&&&&&&&&&&&&$$!!!!!&!!!i!!!&&!!&!/%/%%($(%%/%/!!!!!!!!!",
       "!$$&&&&&&&&&&&&&&$$!!!!!!!!!i!!!!!!!!!%%%%(%$%(%%%!!!!!!!!!!",
       "!$$i$$i$i$$i$i$$i$$!!!!!!!!!i!!!!!!!&!%%%(33333(%%%!!!!!!!!!",
       "!$$$$$$$$ii$$$$$$$$!!!!!!!!!!!!!!!!!!!2%%%%242%%%%!!!!!!!!!!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
   acmap={"                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                         # # # #                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                          #   #                             ",
          "                                                            ",
          "                            #                               ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "        !                                                 $ ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                          #                                 ",
          "                                                            ",
          "                                                            "}
  itmap={"                                                            ",
         "                                            /    .          ",
         "                       '  '   '  '                          ",
         "                                                            ",
         "                                                            ",
         "                                                .           ",
         "         ! !                                                ",
         "                          ) * )  +       !     0.           ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                                                            ",
         "                           !!                            2  ",
         "                                                            ",
         "                     &     && &                          2  ",
         "                                '                   '       ",
         "         #                      '                   '    2  ",
         "                     &     && &                             ",
         "                                                         2  ",
         "                                                            ",
         "                                                            ",
         "                     222222 2 2222222                       ",
         "                                                            ",
         "                                                            ",
         "                            2                               ",
         "                                                            ",
         "                            2             $   $             ",
         "                                                            ",
         "                            2             $   $             ",
         "                                         .     .            ",
         "                            2           $       $           ",
         "                                      3.         .1         ",
         "                            2                               ",
         "                                            /               ",
         "                                                            ",
         "                                                            "}
 stmap={"!!!!!!!!!!!!!!!!!!!!$---------------$6666666U66666688#888888",
        "!          WWW*W*WWW$-- - - - - - --$    6     6   ;       8",
        "! %%%%%%%%%%%%%%%%%W$.             .$.   +6   6  6 #   #   8",
        "! %               %W$-- -3-3-3-3- --$    + 6 6  6 68       8",
        "! %     >   >     % $- -         - -$    + #:# 6   #   #   8",
        "! %      0(0      % #-- - - - - - --#    + :::    68       8",
        "! % >     >W    > > $-             -$    + #:# 6 + #   #   8",
        "! %      0)0      % $/;;;         5/$/   + 6  6   68       8",
        "! %     >   >     % $-             -$    +  6  6   #   #   8",
        "! %               % $-  -   -   -  -#    +   6  6 68       8",
        "! %%%%%%%%P%%%%%%%% $-     = =     -$    +    6  6 #   #   8",
        "!                   #--   -   -   --$    +     6  68       8",
        "!!!!!!!PPPP!!!!!!!!!$-             -$666666666666  8       8",
        "#######PPPP########*-*-*-*-*-*-*-*-*-!!!!!!!!!!!!! !!!!!6A66",
        "#                 %                  %  9              9   6",
        "#                 %                  %       9           + 6",
        "#                 %                  %             9       6",
        "#                 %   #### %%  %%%6  %88888888888888<8!8 @ 6",
        "#                 %   ## 4     %                  2   ?8   6",
        "#                 %   ## 4     %                  2   ?8 @ 6",
        "#                 %   #### %%  %%%6  %88888888888888=8!8   6",
        "#                 %                  %             9     @ 6",
        "#                 %                  %       9             6",
        "#                 %                  %   9             9   6",
        "###################000000000000000000!!!!!!!!!!!!! !!!!!6366",
        "!!!!!!!!!!!!!!!!!!!!6      #B#       6            -.%%%6@@@8",
        "!$$$$$$$$$$$$$$$$$$!6      $B$       6      #      #%%%#6@@8",
        "!                  !61     #B#      16      #     68>%>6@@@8",
        "!3!%%%%%%%%%%%%%%!3!62     $B$      76      #      # > #6@@8",
        "!  %ZZ Z ZZ Z ZZ%  !62     #B#      76            68   6@@@8",
        "!  %            %  !62     $B$      76      #      # > #6>>8",
        "!  %            %  !62     #B#      76   #3###3#  68> >6   8",
        "V  %&& & && & &&% B,$2     $B$      76      #      #   #6  8",
        "!  %            %  !62     #B#      76      #     68>>>6>>>8",
        "!W %            %  !62     $B$      76     6 6     #   #6  8",
        "!*W%YY Y YY Y YY%  !62     #B#      76    6   6   68>>>6@  8",
        "!A!%%%%%%%%%%%%%%!A!62     $B$      76   6     6   #   #6@ 8",
        "!WWWWW*WW WWW*     !62     #B#      .     6   6   68 # .  @8",
        "!!!!!!!!!!!!!!!!!!!!-----------------6666666U666666888888888"}

create_world_by_map(level)
draw_map(0,0,stmap,stones)
draw_map(0,0,itmap,items)
draw_map(0,0,acmap,actors)
set_item("it-vortex-open",50,24,{targetx= 44.5,targety = 35.5 })
set_item("it-vortex-open",44,35)
Signal ("it(44 35)", "it(53 35)")
Signal ("it(44 35)", "it(50 24)")
set_item("it-vortex-open",51,25,{targetx= 48.5,targety = 25.5 })
set_item("it-vortex-open",48,25,{targetx= 51.5,targety = 25.5 })
set_item("it-vortex-open",38,25,{targetx= 38.5,targety = 37.5 })
set_item("it-vortex-open",38,37,{targetx= 38.5,targety = 25.5 })
set_item("it-vortex-open",53,35,{targetx= 50.5,targety = 24.5 }) 
--set_item("it-vortex-open",44,34,{targetx= 50.5,targety = 24.5 }) 
SetAttrib(enigma.GetItem(23,2),"invisible",FALSE)
SetAttrib(enigma.GetStone(25,18),"on",FALSE)
SetAttrib(enigma.GetStone(25,19),"on",FALSE)
SetAttrib(enigma.GetItem(26,2),"invisible",FALSE)
SetAttrib(enigma.GetItem(30,2),"invisible",FALSE)
SetAttrib(enigma.GetItem(32,18),"invisible",FALSE)
SetAttrib(enigma.GetItem(32,19),"invisible",FALSE)
SetAttrib(enigma.GetItem(33,2),"invisible",FALSE)
--SetAttrib(enigma.GetItem(38,25),"strength",2)
--SetAttrib(enigma.GetItem(38,25),"range",2)
--SetAttrib(enigma.GetItem(51,25),"strength",2)
--SetAttrib(enigma.GetItem(51,25),"range",2)
SetAttrib(enigma.GetStone(52,17),"on",FALSE)
SetAttrib(enigma.GetItem(52,18),"invisible",FALSE)
SetAttrib(enigma.GetItem(52,19),"invisible",FALSE)
SetAttrib(enigma.GetStone(52,20),"on",FALSE)
SetAttrib(enigma.GetStone(27,10),"on",FALSE)
SetAttrib(enigma.GetStone(29,10),"on",FALSE)
SetAttrib(enigma.GetStone(0,32),"on",FALSE)

if (not difficult) then
set_item("it-flagblack",12,18)
set_item("it-extralife",12,19)
set_item("it-pin",58,37)
set_floor("fl-ice",32,30)
set_floor("fl-ice",33,30)
set_floor("fl-ice",32,34)
set_floor("fl-ice",33,34)
else
set_item("it-death",12,14)
set_item("it-death",12,16)
set_item("it-death",12,18)
set_item("it-death",12,20)
set_item("it-death",12,22)
set_item("it-death",12,24)
set_item("it-death",4,14)
set_item("it-death",16,16)
set_item("it-death",6,18)
set_item("it-death",17,20)
end
Signal ("it(52 18)","st(52 17)")
Signal ("it(52 19)","st(52 20)")
Signal ("it(32 18)","st(25 18)")
Signal ("it(32 19)","st(25 19)")
Signal ("it(52 18)","st(27 10)")
Signal ("it(52 19)","st(29 10)")
Signal ("it(32 18)","st(27 10)")
Signal ("it(32 19)","st(29 10)")
Signal ("it(33 2)","st(31 3)")
Signal ("it(30 2)","st(29 3)")
Signal ("it(26 2)","st(27 3)")
Signal ("it(23 2)","st(25 3)")
Signal ("st(10 5)","st(19 32)")
Signal ("st(10 7)","st(57 24)")
--Signal ("it(51 25)","fl(49 25)")
--Signal ("it(38 25)","fl(38 37)")
Signal ("st(44 38)","st(42 31)")
Signal ("st(44 0)","st(46 31)")
Signal ("st(28 25)","st(22 32)")
Signal ("st(0 32)","st(1 28)")
Signal ("st(0 32)","st(18 28)")
oxyd_shuffle()
    ]]></el:luamain>
      <el:i18n>
        <el:string el:key="title">
          <el:english el:translate="true"/>
          <el:translation el:lang="de">Sei ein Hans Dampf ... in allen Gassen</el:translation>
        </el:string>
        <el:string el:key="subtitle">
          <el:english el:translate="true"/>
          <el:translation el:lang="de">Finde das Paradies</el:translation>
        </el:string>
      </el:i18n>
  </el:protected>
</el:level>

<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected >
    <el:info el:type="level">
      <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
      <el:version el:score="1" el:release="1" el:revision="$Revision: 55 $" el:status="released"/>
      <el:author  el:name="mecke" el:email="" el:homepage=""/>
      <el:copyright>Copyright © 2008 Thomas Bernhardt</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="0.92">
        <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
      </el:compatibility>
      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force"
        el:scoreunit="duration" el:scoretarget="time"/>
	   <el:comments>
        <el:credits el:showinfo="true" el:showstart="false">Thanks to Ronald Lamprecht and Clifford J.Tasner for testing and important ideas</el:credits> 
      </el:comments>
      <el:score el:easy="78:58" el:difficult="78:58"/>
    </el:info>
    <el:luamain><![CDATA[
function file_oxyd(x,y,f)
    oxyd_default_flavor=f
    oxyd(x,y)
end
levelh=97
levelw=96
enigma.FlatForce=30
enigma.SlopeForce=30
enigma.ElectricForce=30
cells={}
items={}
actors={}
stones={}
actors[" "]=cell{}
stones[" "]=cell{}
cells[" "]=cell{}
items[" "]=cell{}

if difficult then
    enigma.SwampSinkSpeed = 3.0
else
    enigma.SwampSinkSpeed = 1.5
end

cells["!"]=cell{floor="fl-swamp"}
stones["!"]=cell{stone="st-death"}
stones["c"]=cell{stone="st-block"}
cells["#"]=cell{floor="fl-normal"}
cells["$"]=cell{floor="fl-water"}
stones["#"]=cell{stone="st-oneway_black-n"}
stones["$"]=cell{stone="st-stoneimpulse"}
cells["%"]=cell{floor="fl-bluegreenx"}
stones["%"]=cell{stone="st-rock1"}
cells["&"]=cell{floor="fl-samba"}
stones["&"]=cell{stone="st-stoneimpulse-hollow"}
cells["'"]=cell{floor={"fl-red",{friction=3.6}}}
stones["'"]=cell{stone="st-rock1_hole"}
cells["("]=cell{floor="fl-space"}
cells[")"]=cell{floor="fl-leaves"}
stones["("]=cell{stone="st-puzzle2-ns"}
stones[")"]=cell{stone="st-puzzle2-ne"}
stones["*"]=cell{stone="st-puzzle2-new"}
stones["+"]=cell{stone="st-grate1"}
function ac_rotor(x,y)
n=""
r=0
f=0
 init=false
 if (x==4) and (y==70) then
  n="ac4x70"
  r=3
  f=3
  init=TRUE
 end
 if (x==4) and (y==71) then
  n="ac4x71"
  r=3
  f=3
  init=TRUE
 end
 if (x==62) and (y==7) then
  n="ac62x7"
  r=3
  f=3
  init=TRUE
 end
 if (x==65) and (y==7) then
  n="ac65x7"
  r=3
  f=3
  init=TRUE
 end
 if (x==70) and (y==7) then
  n="ac70x7"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==9) then
  n="ac83x9"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==13) then
  n="ac83x13"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==17) then
  n="ac83x17"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==21) then
  n="ac83x21"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==25) then
  n="ac83x25"
  r=3
  f=3
  init=TRUE
 end
 if (x==83) and (y==29) then
  n="ac83x29"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==9) then
  n="ac87x9"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==13) then
  n="ac87x13"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==17) then
  n="ac87x17"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==21) then
  n="ac87x21"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==25) then
  n="ac87x25"
  r=3
  f=3
  init=TRUE
 end
 if (x==87) and (y==29) then
  n="ac87x29"
  r=3
  f=3
  init=TRUE
 end
 if (x==88) and (y==56) then
  n="ac88x56"
  r=2
  f=3
  init=TRUE
 end
 if (x==88) and (y==64) then
  n="ac88x64"
  r=2
  f=3
  init=TRUE
 end
 if (x==91) and (y==9) then
  n="ac91x9"
  r=3
  f=3
  init=TRUE
 end
 if (x==91) and (y==13) then
  n="ac91x13"
  r=3
  f=3
  init=TRUE
 end
 if (x==91) and (y==17) then
  n="ac91x17"
  r=3
  f=3
  init=TRUE
 end
 if (x==91) and (y==21) then
  n="ac91x21"
  r=3
  f=3
  init=TRUE
 end
 if (x==91) and (y==25) then
  n="ac91x25"
  r=3
  f=3
  init=TRUE
 end
 if (x==91) and (y==29) then
  n="ac91x29"
  r=3
  f=3
  init=TRUE
 end
set_actor("ac-rotor",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
end
actors["!"]=cell{parent={{ac_rotor}}}
stones[","]=cell{stone="st-puzzle2-sw"}
stones["-"]=cell{stone="st-puzzle2-ew"}
stones["."]=cell{parent={{file_oxyd,"a"}}}
stones["/"]=cell{stone="st-wood"}
stones["0"]=cell{stone="st-puzzle2-es"}
stones["1"]=cell{stone="st-puzzle2-esw"}
stones["2"]=cell{stone="st-bolder-w"}
stones["3"]=cell{stone="st-puzzle2-nw"}
cells["*"]=cell{floor="fl-sand"}
stones["4"]=cell{stone="st-turnstile-n"}
stones["5"]=cell{stone="st-turnstile"}
stones["6"]=cell{stone="st-turnstile-s"}
stones["7"]=cell{stone="st-turnstile-w"}
items["!"]=cell{item="it-springboard"}
items["#"]=cell{item="it-wormhole"}
stones["8"]=cell{stone="st-puzzle2-n"}
stones["9"]=cell{stone="st-puzzle2-s"}
stones[":"]=cell{stone="st-door-h-open"}
cells["+"]=cell{floor="fl-bluegray"}
stones[";"]=cell{stone="st-door-h"}
stones["<"]=cell{stone="st-black4"}
stones["="]=cell{stone="st-glass_move"}
stones[">"]=cell{stone="st-turnstile-e"}
stones["?"]=cell{stone="st-glass"}
cells[","]=cell{floor="fl-abyss"}
stones["@"]=cell{stone="st-oneway_black-w"}
stones["A"]=cell{stone="st-puzzle2-nesw"}
stones["B"]=cell{stone="st-laser-w"}
cells["-"]=cell{floor="fl-light"}
stones["C"]=cell{stone="st-oneway_black-e"}
stones["D"]=cell{stone="st-oneway_black-s"}
stones["E"]=cell{stone="st-door-v"}
cells["."]=cell{floor="fl-gradient4"}
stones["F"]=cell{stone="st-camouflage"}
stones["f"]=cell{stone="st-camouflage_move"}
items["$"]=cell{item="it-trigger"}
stones["G"]=cell{stone="st-bolder-s"}
cells["/"]=cell{floor="fl-inverse"}
items["%"]=cell{item="it-hstrip"}
items["&"]=cell{item="it-cherry"}
stones["H"]=cell{stone="st-door-v-open"}
function ac_blackball(x,y)
n=""
p=0
f=0
 if (x==38) and (y==37) then
  n="ac38x37"
  p=0
  mf=1
 end
set_actor("ac-blackball",x+0.5,y+0.5,{player=p,name=n,mouseforce=mf})
end
actors["#"]=cell{parent={{ac_blackball}}}
stones["I"]=cell{stone="st-likeoxyda"}
stones["J"]=cell{stone="st-door_a"}
stones["K"]=cell{stone="st-bolder-e"}
stones["L"]=cell{stone="st-rock3_break"}
cells["0"]=cell{floor="fl-gradient9"}
cells["1"]=cell{floor="fl-gradient3"}
cells["2"]=cell{floor="fl-gradient10"}
items["'"]=cell{item="it-blackbomb"}
cells["3"]=cell{floor="fl-floor_001"}
items["("]=cell{item="it-dynamite"}
items["X"]=cell{item="it-extralife"}
items["Y"]=cell{item="it-flagblack"}
cells["4"]=cell{floor="fl-gradient1"}
items[")"]=cell{item="it-seed_nowood"}
stones["M"]=cell{stone="st-swap"}
stones["N"]=cell{stone="st-bolder-n"}
cells["5"]=cell{floor="fl-gradient2"}
items["*"]=cell{item="it-vstrip"}
items["+"]=cell{item="it-key_a"}
cells["6"]=cell{floor="fl-gradient6"}
cells["7"]=cell{floor="fl-gradient12"}
stones["O"]=cell{stone="st-oneway-s"}
cells["8"]=cell{floor="fl-bluegreen"}
cells["9"]=cell{floor="fl-leavesc2"}
items[","]=cell{item="it-seed"}
items["-"]=cell{item="it-squashed"}
cells[":"]=cell{floor="fl-gradient16"}
items["."]=cell{item="it-coin2"}
items["/"]=cell{item="it-booze"}
cells[";"]=cell{floor="fl-leavesd4"}
cells["<"]=cell{floor="fl-gradient5"}
items["0"]=cell{item="it-burnable_oil"}
stones["P"]=cell{stone="st-mirror-p-m"}
items["1"]=cell{item="it-glasses-broken"}
stones["Q"]=cell{stone="st-mirror-p\\tm"}
stones["R"]=cell{stone="st-mirror-p|t"}
stones["S"]=cell{stone="st-mirror-p|m"}
cells["="]=cell{floor="fl-gradient8"}
stones["T"]=cell{stone="st-lasertimeswitch"}
items["2"]=cell{item="it-key_c"}
stones["U"]=cell{stone="st-rock6"}
cells[">"]=cell{floor="fl-gravel"}
cells["?"]=cell{floor="fl-abyss_fake"}
stones["V"]=cell{stone="st-laser-s"}
stones["W"]=cell{stone="st-break_invisible"}
stones["X"]=cell{stone="st-window"}
stones["Y"]=cell{stone="st-floppy"}
stones["Z"]=cell{stone="st-key_b"}
stones["["]=cell{stone="st-key_a"}
stones["^"]=cell{stone="st-lightpassenger_off"}
items["3"]=cell{item="it-key_b"}
items["4"]=cell{item="it-floppy"}
function ac_top(x,y)
n=""
r=0
f=0
 init=FALSE
 if (x==92) and (y==4) then
  n="ac92x4"
  r=1
  f=1
  init=TRUE
 end
set_actor("ac-top",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
end
actors["$"]=cell{parent={{ac_top}}}
items["5"]=cell{item="it-magicwand"}
level={"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
       "!$!$!$!$!$!!$!!$!$!!!!!!!!!!!!!!!!!!!!!****!!$!$$!!!!****!!!!!!!!!!!!!!!!!!!!!8!,!,!,!,!!!!!!$!!",
       "!!!$!$!$!$!$!$!$$$$$$$!!!!!!!!;!!!!!!!!****!!$!$$!!!!****!!$!!!&!)!)!!$!!$)&!8!!!,$,!,!!!!$!!!!!",
       "!$$$!$!$!$$!!$$$$$!!!!,********************!!$!$$!!!!**!*!!!!$!$!!!!!&)$$$!!!!&!&!,!&&&'&&&&&#-%",
       "!!!!!$!$$$$$$$$$$$!!!!!!!!*$$$;$$$*!!!!****!!$!$$!!!!****!!!!$$$)&!)$$$$$&!)!8!!!>$(!&$!!!!!##!!",
       "!$$$$$!$$$$$$$$$$$!!!!!!!!*$!!$!!$*!!!!****!!$!$$$$$$****!!!$&!!!;!&!)&$$$$!!!8!(!(!,&,!!!!!!$!!",
       "!!!!!!))*$*$*!*$*$*!!!!!!!*$!!$!!$*!!!!****!!!!$$!!!!****!!!!!$!!!)!$!!!&!!)!8!!!($,!&!!!!!!!!!!",
       "!$$$$)))$$$$$!$$$$$$$$!!*!*$$$$$$$*!*!!****!!!!$$!!!!****!!!$!&!)&!!$!&!!)!!!&!!!!!!!&!!!&!!!!!!",
       "!!!!$)))*$*$*!*$*$*!!!!!*!!$!!$!!$!!*!!****!!!!$$!!!!****!!!&!!!!!!$)!!!$!!!)!!!!!!,''',''',!!!!",
       "!$$$$$$$$$$$$$$$$$!!!!!!*!!$!!$!!$!!*!!****!!!!$$!!!!****!!!!$!!!!)!!!!)!!)!!!!!!!!'!!!'!!!'!!!!",
       "!!$!$!$!$!!!!$!!!$!!!!!!*!!$!!$!!$!!*!!****!!!!$$!!!!****!!$!$!!$!!$!)$$$$$$)!!!!!!,!!!,!!!,!!!!",
       "!!!$!!!$!$$$$$!$$$$!!!!!*!*$!!$!!$*!*!!****!!!!$$!!!!****+*!&!!!!!!!!!!!!!!!!!!!!!!,!!!,!%!,!!!!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!*$!!$!!$*!!!!!!!!!!!!!!!!!!!!!!)!!!!!!!!!!!!!!!!!!!!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!!!!!!!!!!*!!!!!*$!!$!!$*!!!!!!!!!!!!!!!!!!!!!*+*!!!!!!!!!!!!!!!!!!!!!!!!$!!!$!!!$!!!!",
       "!!!!!!!****$**********!!!!*$!!$!!$*!!!!!!!!!!!!!!!!!!!!!;;;!!!!!!!!!!!!!!!!!!!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!!!!!!!!!!*!!!*!*$!!$!!$*!*!!!----------------!+!-------------------!!!!!,!%!,!!!,!!!!",
       "!!!!!!!!!!!!!$!!!!!!*!!!*!!$!!$!!$!!*!!!--------------------------------------!!!!!,!!!,!!!,!!!!",
       "!!!!!!!******$*******!!!*!!$!!$!!$!!*!!!----------------!+!----------------!!!!!!!!$!!!$!!!$!!!!",
       "!!!!!!!!!!!!!$!!!!!!**!!*!!$!!$!!$!!*!!!--------------!!!8!!!--------------!!!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!******$*******!!!*!!$!!$!!$!!*!!!!!!!!!!!!!!!!!!!,8,!!!!!!!;!!!!!!!!!!!!!!!!,!!!,!%!,!!!!",
       "!!!!!!!!!!!!!$!!!!!!*!!!!!!$$$$$$$!!!!!!!!!!!!!!!!!!!!!,,8,,!!!!!!;!!!!!!!!!!!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!$++$++$!!!!!!!!!!!!!!!!!!!!!&888$$9$$$$;$$$$9$$$$$!!!!!!$!!!$!!!$!!!!",
       "!!!!!!!****$***************$**$**$****&!!-!!!-!!!-!!!-!!!-$:!!!!!!!!!!!!!!!!$!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!!$!!$!!$!!!!!-!!&-!!&-!!&-!!&-!!$!!!!!!!!!!!!$$$$!$!!!!!!,!%!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!!*!!!!!*!!!!!!!!!!!!!!!!!!!!!!!!$!!;;;;;;;;;;!!!$=!!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!***!!!***!!!)!!*!!!!!**!!!!!*!!!$!!;!!!!!!!!!$$!$!$!!!!!!$!!!$!!!$!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!***!!!***!!!!!!!!!!!!++!!!!!!!!!$!!;!;;;;;;;;!$!$!$!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!***!!!***!!!!!!!+!+!++++!+!+!!!!$!!;!;!!!!!!;!$!$!$!!!!!!,!!!,!%!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!!*!!!!!*!!!!!!!+!+!+!!!!+!+!+!!!$$!;!;!;;;;!;!$!$!$!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!!!!!+*+!+*+!!!!!!+!!!++++++++!!!+!!$4!;!;!;!!;!;!$!$!$!!!!!!$!!!$!!!$!!!!",
       "!!!!!!!!!!!*!!!!!!!!+++++++++++++++++++!!!!!+))))))+!!!!!!$!!;!;!;!!;!;!$!$!$!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!*!!!!!!!!!!!)!!!$$$*$$$!!!!!!!!!!+))))))+!!!!!!$!!;!;!!!!;!;!$=!!$!!!!!!,!!!,!!!,!!!!",
       "!!!!!!!!!!!+!!!!!!!!!!!!!!)!!!!!!!!!!!!!!!!!+))))))+!!!!!!$!!;!;;;;;;!;!$$$$$!!!!!!,''''''',!!!!",
       "!!!!!!!!!!!+!!!)!!!!!!)!)!!!!!!!!!!!!!!!!!!!+))))))+!!!!!!$;!;!!!!!!!!;!$!!4$!!!!!!!!!!&!!!!!!!!",
       "!!!!!!!!!!!+!!!!!!!!!!))!!!!!$$$$!!!!!!!!!+!+))))))+!+!!!!$!!;;;;;;;;;;!$!$!$!!!!!!!&&&&&&&&!!!!",
       "!!!!!!!!!!!+!!!!!!!!!!)!!!!!!$!!!!!!!!!!!+!++))))))++!+!!!$!$!!!!!!!!!!!$!$!$!!!!!!!&!!!!!!&&!!!",
       "!!!!!!!!!!!+!!!!!!!!!!!!!!!$$$!!!!))!&!&!!+!+))))))+!+!!!!$!$$$$$$$$$$$$$!$!!!!!!,,,&,,,,,,!&&!!",
       "!!!!!!!!!!!+!!)!)!!!!!!)!!!$$$!!!&))&&)&$$$$+$$$$$$+$$$$!!$!!!!!!<!!!!!!!=$!$!!!!?!,&,,,,,,!!&!!",
       "!!!!!!!!!!!+!!!!!!!!$$+$$$$$$)))!!!!!!)!!!!!+))))))+!!!!!!$$$9$$$$$$$$$9$$$!$!!!!,,,&,,,,,,!&&&!",
       "!!!!!!!!!!!+!!!!!!!!$!$+$!$$$)))!!!!!!)!!!!!+))))))+!!!!!!!!!)!!!!!!!!!)!!!!$!!!!!!!&,,,,,,$!!!!",
       "!!!!!!!!!!!+!!!!!!!!$$$$$$$$$)))$!!!!!!!!!!!+))))))+!!!!!!!!!!!!!!!!!!!!!!!!!;;;!!!!&,+++,,!+++!",
       "!!!!!!!!!!!+!!!)!!!!$$))))$+$$$$!!!!!!!!!!!!+))))))+!!!!!!!!!9!!!))))))))))))+!+!!!!&,+++++++++!",
       "!!!!!!!!!!!+!!!!!!!!$$)$$)$$$$$$!!))!!!!!!!!+))))))+!!!!!!!!!!!!!))))))))))));;;;!!!&,+++++++++!",
       "!!!!!!!!!!!+!!!!!!!!$$)$))$!$!!!!!))!!!)!!!!+))))))+!!!!!!!!!!!!!))))))))))));;;!!!!&,+++++!+++!",
       "!!!!!!!!!!!+!!!!!!!!$$)))$$!$!!!)!!!!!!)!!+!+))))))+!+!!9!!!!9!!!))))))))))));;;!!!!&,+++,,!+++!",
       "!!!!!!!!!!!+!!)!)!!!$$$$$$$$$!!!!!!!!!!)!+!++))))))++!+!!!!!!!!!!))))))))))))+;;;,,,&,,,,,,$!!!!",
       "!!!!!!!!!!!+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!+))))))+!!!!!!!!!!!!!))))))))))));;;!,!,&,,,,,,!!&&!",
       "!!!!!!!!!!!+!!!!!!!!+++++++++++++++!!)+)!!!!+))))))+!!!!)!!!!!!!!))))))))))));;;!,,,&,,,,,,!!&!!",
       "!!!!!!!!!!!+!!!!!!!!!)))))!)))))!!)!!+!+!!!!+))))))+!!!!9!!!!9!!;)))))))))));;;;;!!!&,,,,,,!&&!!",
       "!!!!!!!!!!!+!)!!!!!!!)!!$$+$$!!)!!))))+)!!!!++++++++!!!$!!!!!!!!!)))))))))))!+!+;!!!&!!!!!!&&!!!",
       "!!!!!!!!!!!+!!!!!!!!!)))))))))))!!!!!!!)!!!+!!!++!!!+!!!)!!!!!!!!!!!!!!!!!!!!;;;!!!!&&&&&&&&!!!!",
       "!!!!!!!!!!!+!!!!!!!!!!!!!!!!!!!!!!+!)!!)!!+!!!!!!!!!!+!$)!!)!+!!!!!!!!%!!!!!!!!!!!!!!!!!&!!!!!!!",
       "!$!!!!!!!!!+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!+!!!!!++!!!!!+!!!!!!!!!!!!!!!%!!!!!!!!!!!!!!!!!%!!!!!!!",
       "!%%%%%%%%%%%%%%%%%%%%%%%%%%$$$$$$$+$)))))))))))!!)))))))))))$+$$$$$$$$%%%%)%%%),,,!$$$$$%$$$$!!!",
       "!!!!!!!!!!!&!,,,,%!)!%,,,,!!!!!!!$!$$$$$$$$$$$$++$$$$$$$$$$$$!$!!!!!!!!,,)%,,,%),,!$++++++++$!!!",
       "!!&&&!&&!!&&&,,,%,$!$,%,,,!!!!!!!$+!+!+!+!+!+!+!!+!+!+!+!+!+!+$!!!!!!!!,,%,,!,,%,,!$+******+$!!!",
       "!!!!!!!!!!!!!,,%,,!)!,,%,,!!!!!!!$$$$$$$$$$$$$$++$$$$$$$$$$$$$$!!!!!!!!,,),,!,,),,!$+******+$!!!",
       "!!&&&&&&&&&!!,,),,$!$,,),,!!!!!!!$!!!!!!!!!!!!!!!!!!!!!!!!!!!!$!!!!!!!!,,),,!,,),,!$+******+$!!!",
       "!!!!!!!!!!$&!,,),,!!!,,),,!$$$$$$$!!&&&&&&&&&&&&&&&&&&&&&&&&!!$$$$$$$$!,,),,!,,),,!$+******+$!!!",
       "!!&!&&&&!&&&!,,),,!!!,,),,!!!!!!!$!!&!!!!!!!!!!$$!!!!!!!!!!&!!$!!!!!!!!,,),,!,,),,!$++++++++$!!!",
       "!!!&!!!!!!!!!,,$,,)!),,$,,!$$$$!!$!!&!!!!!!!!!!+$!!!!!!!!!!&!!$!!$$$$$!,,$,,!,,$,,!$$$$$%$$$$!!!",
       "!!!&&!&&&!!!!,,),,!!!,,),,!!!!$&&$&&&!!!!!!!!!!+$!!!!!!!!!!&&&$&&$!!!!!,,),,!,,),,!$++++++++$!!!",
       "!!!&&&&!!&&&!,,),,$$$,,),,!!!&$$$$$$&!!!################!!$$$$$$$$&!!!!,,),,!,,),,!$+&&&&&&+$!!!",
       "!!!!!!!!!!!!!,,),,$$$,,),,!!!!$&&$&&&!!!#$$3$$33$$3$$3$#!!!&&&$&&$!!!!!,,),,!,,),,!$+&&&&&&+$!!!",
       "!!&&&&!&&&&!!,,),,$$$,,),,!$$$$!!$!!&!!!#$$++++$++,++33#!!!&!!$!!$$$$$!,,),,!,,),,!$+&&&&&&+$!!!",
       "!&$!!!!!!!!!!,,),,$!$,,),,!!!!!!!$!!&!!!#$$+!!$(($!!+$$#!!!&!!$!!!!!!!!,,),,!,,),,!$+&&&&&&+$!!!",
       "!!&&&!$!!&!$!,,%,$!!!$,%,,!$$$$$$$$$&$++#$$+!!$(($!!+$$#++$&$$$$$$$$$$!,,%,,!,,%,,!$++++++++$!!!",
       "!!!!!&&&$!&!!,,)%,$!$,%),,!!!!!!!$!!&!!!#$$+!!$(($!!+$$#!!!&!!$!!!!!!!!,,)%,+,%),,!$$$$$%$$$$!!!",
       "!!!!!$&&&&&&!,,,)%!)!%),,,!$$$$!!$!!&!!!#33++,++$++++$$#!!!&!!$!!$$$$$!,,,)%+%),,,!!!!!!%!!!!!!!",
       "!!!!!!!!!!!(!!!!!!!!!!!!!!!!!!$!!$!!&!!!#$3$$3$$33$$3$$#!!!&!!$!!$!!!!!!!!!!+++++++++++++!!!!!!!",
       "!!!!)!!!!!!(!!!!)!!!!!!!!!!!!!$!!$!!&!!!################!!!&!!$!!$!!!!!!!!!!!!!!!!!!!!+!!!!!!!!!",
       "!!!!)!!!!!!(!!!!)!!!!!!!!!!!!!$!!$!!&!!!!!!!!!!$+!!!!!!!!!!&!!$!!$!!!!!!!!!!!!!!!!!!!!+!!!!!!!!!",
       "!!!!!!!!!!!(!!!!!!!!$$$$!!!!!!$!!$!!&!!!!!!!!!!$+!!!!!!!!!!&!!$!!$!!!!!!$$$$!!!!!!!!!!8!!!!!!!!!",
       "!!!!(!!!)!!&!!!!!!!!!!!$!!!!!!$$$$$$&!!$$!$!!+!$$!+!!$!$$!!&$$$$$$!!!!!!$!!!!!!!!!!!!!8!!!!!!!!!",
       "!!!!(!!!!!!!!!!!(!!!!!!$!!..........&&&&&&&&&&&&&&&&&&&&&&&&1111!11111!!$!!!!!++++++++8+++++++!!",
       "!!!!!!!!!(((()!!!!!!!+......!.....!!+!!!!!!$!(!$$!,!$!!!!!!+!!11111!111111+!!!+++++++8++++++++!!",
       "!!!!!!(!!!!!!!!(!!!!!+!!!!$$$$$$$$$$$$!!!!!!$+!$$!+$!!!!!!$$$$$$$$$$$$!!!!+!!!++++++++8+++++++!!",
       "!!!!!!!!!!!!(!!(!!!!!+!!!!$!!!!!!!!!+!!!!!!$!,!$$!(!$!!!!!!+!!!!!!!!!$!!!!+!!!+++++++8++++++++!!",
       "!!!!)(((($!!$!!!!!!!!+!$$!$!!!!!!!!!+!!!!!!!$+!$$!+$!!!!!!!+!!!!!!!!!$!$$!+!!!++++++++8+++++++!!",
       "!!!!!!!!!!!!!!!!!!!!!+!!!!$!!!!!!!!!+!!!!!!$!(!$$!,!$!!!!!!+!!!!!!!!!$!!!!+!!!+++++++8++++++++!!",
       "!!!!!!!!!!!!(((!!!!!!+!!!!$$$$$$$$$$$$!!!!!!$+!$$!+$!!!!!!$$$$$$$$$$$$!!!!+!!!++++++++8+++++++!!",
       "!!!($!!)!!!!!$!!!!!!!+......!.....!!+!!!!!!$!,!$$!(!$!!!!!!+!!11111!111111+!!!+++++++8++++++++!!",
       "!!!!!!((;(;!!!)!(!!!!!!!!!.....!....+!!!!!!!$++++++$!!!!!!!+1111!11111!!!!!!!!++++++++8+++++++!!",
       "!!!)!!!!!!;!!!!!)!!!!!!!!!!!!!!!!!!!&&&&!!!$!+!$$!+!$!!!&&&&!!!!!!!!!!!!!!!!!!!!!!!!!!8!!!!!!!!!",
       "!!!!!!!!!!;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!;;!!!!!!!!!!&!!!!!!!!!!!!!!!!!!!!!!!!!!8!!!!!!!!!",
       "!!!!!!!!!!;!!!!!!!!!!!!#!!!!!!!!!!!!!!!00004;;;;;;;;46666!!&!!$!!!$!!!$!!!!!!++++++++++++++++++!",
       "!!'!''''''''''''''!!!!#!!#!!!!!!!!!!!!!000044;4444;446666!!&&&$&&&$&&&$&&&!!!++$$$$$$$$$$$$$$++!",
       "!!'!'!!!!!!!!!!!!'!!!#!!!!!#!!!!!!!!!!!0000$$$$$$$$$$6666!!!,&$&,&$&,&$&,&!!!++++++++++++++++++!",
       "!!'!'!''''''''''!'!!#!!!!!!!!#!!!!!,!!!1111$$$$$$$$$$....!!!,&$&,&$&,&$&,&!!!+$+%%%!!!!!$$$!!++!",
       "!!'!'!'!!!!!!!!'!'!#!!!!!!!!!!!!!!!!!!!1111$$$$$$$$$$....!!!,&$&,&$&,&$&,&!!!+++%!%!!!!!$!$!!++!",
       "!!'!'!''''''''!'!'!---------/----/--!,!1112$$$$$$$$$$7...!!!,&$&,&$&,&$&,&&&&++$%%%!!!!!$$$!!++!",
       "!!'!'!!!!!!!!!!'!'!#!!!!!!!!!!!!!!!!!!!1122$$$$$$$$$$77..!!!,&$&,&$&,&$&,!!!!++++++++++++++++++!",
       "!!'!''''''''''''!'!!#!!!!!!!!#!!!!!,!!!2222$$$$$$$$$$7777!!!,&$&,&$&,&$&,!!!!+$!!+!!+!!+!$+!!++!",
       "!!'!!!!!!!!!!!!!!'!!!#!!!!!#!!!!!!!!!!!-------!55!-------!!!,&$&,&$&,&$&,!!!!++!!+!!+!)+!!+!!++!",
       "!!''''''''''''''''!!!!#!!#!!!!!!!!!!!!!-!---!!!55!!!---!-!!!,&&&,&&&,&&&,!!!!++$+++++++++++++++!",
       "!!!!!!!!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!---!!!555555!!!---!!!,!!!,!!!,!!!,!!!!++++++++++++++++++!",
       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
   acmap={"                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                            $   ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                              !  !    !                         ",
          "                                                                                                ",
          "                                                                                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                               #                   !   !   !    ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                        !       ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                        !       ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "    !                                                                                           ",
          "    !                                                                                           ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                ",
          "                                                                                                "}
  itmap={"                                                                                                ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                        .                    5  ",
         "                              $                                                         &       ",
         "                                                                 .          .                   ",
         "                            $$  $                                                               ",
         "                                                                    .                           ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                             .          .                       ",
         "                                                                                %%%%%%% %%%%%%% ",
         "                                                                                                ",
         "                                                                                                ",
         "          ! !                                                                                   ",
         "                                                                                %%% %%% %%% %%% ",
         "                                                                                                ",
         "            ! !                            ((((((((((                                           ",
         "           #                                                                                    ",
         "            ! !                                                                 %%% %%% %%% %%% ",
         "                                                                                                ",
         "                                                             /                                  ",
         "          ! !                                             - *XXXXX*XXXXX*X*                     ",
         "                                                          -            ----     %%% %%% %%% %%% ",
         "                                                          -  0000000000000-                     ",
         "                                                          -  0          (0-                     ",
         "                                                          (  0 00000000  0( (                   ",
         "                                                             0 0      0 (0-     %%% %%% %%% %%% ",
         "                                                           * 0 0 0000 0 '%-%                    ",
         "                                                          (  0 0    0 0 ( - (                   ",
         "                                                             0 0 1  0 0   (                     ",
         "                                                          (  0 0   00 0 (       %%% %%% %%% %%% ",
         "                                             ))))))       -  0 00 000 0   (                     ",
         "                                                          -  0        0 (   (                   ",
         "                                             $$$$$$       -  0000000000                         ",
         "                                                          (%            (%(%                    ",
         "                                                            -------------                       ",
         "                                                          -       *              $ %            ",
         "                                                          -- /  ----   / - %                    ",
         "                                                                                                ",
         "                                                                                     %          ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                     %          ",
         "                                                                                                ",
         "                                                                                   %            ",
         "                                                                                                ",
         "                                                                $                               ",
         "                          $                                                                     ",
         "                                                                                                ",
         "                                                             2                                  ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                      3         ",
         "                                                                                                ",
         "                                                                                                ",
         "               !       !                       **                              !                ",
         "                                                                                                ",
         "               !       !      %  %                   '        %  %       !                      ",
         "                                        '  '''''''''''                                          ",
         "                              %  %      '  '                  %  %                              ",
         "                                        '       ''''''''                                        ",
         "                                        '              '                                        ",
         "                                     %  '     % +%     '  %                                     ",
         "                                        '              '                                        ",
         "                                        '       ''''''''                                        ",
         "                                        '           '  '                                        ",
         "                                        ''''''''    ''''                                        ",
         "                                                                                                ",
         "                                                                                                ",
         "                                               **                                               ",
         "                                                                                                ",
         "                                                                                                ",
         "                                       %      %%%%      %                                       ",
         "                                                                                                ",
         "                                       %      %%%%      %                                       ",
         "                                                                                                ",
         "                                       %      %%%%      %                                       ",
         "                                                                                                ",
         "                                                                                                ",
         "                                               **                                               ",
         "                                                                                                ",
         "                                                                                                ",
         "          #                                                                                     ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                                ",
         "          #                        &                                                            ",
         "                                                                                                ",
         "                                                                                         )      ",
         "                                                               4     4                          ",
         "                                                                                                ",
         "                                                                                                ",
         "                                                                                                "}
 stmap={"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!F!!!!!F!!!!!!!!!!!!!!!!!!!!!!!!",
        "!                  !  %               %LLLLLLLLLLLLLLLLLL!                  ?  F       !! ! ! !!",
        "!                     %               %LLLLLLLLLLLLLLLLLL!    ?   %          ++F++     ! ! ! ! !",
        "!                     E               EL.LLLLLLLLLLLLLL.L!              ?   +  =  +    < < < <= ",
        "!                     %               %LLLLLLLLLLLLLLLLLL!            ?      ++F++     ! ! ! ! !",
        "!     +               %     FF+FF     %LLLLLLLLLLLLLLLLLL!     ? ?          ?  F       !FFF ! !!",
        "!    .2  4     4      %               %++++++++++++++++++!       F     F %     F       !F.F! ! !",
        "!   + // 575>  575>   %               %++++++++++++++++++!          ?     ?    !!%!!%#%!%#%!!%!!",
        "!    //  6     6      %               %LLLLLLLLLLLLLLLLLL!                     !               !",
        "!     +               % %           % %LLLLLLLLLLLLLLLLLL!     ? ?  % ?     %  ! f W   W   W f !",
        "!                     %               %LLLLLLLLLLLLLLLLLL!   ?    %     ?      !               !",
        "!                     %               %LLLLLLLLLLLLLLLLL                       !               !",
        "!!!!!!!!%%%%%%%!!!!!!!!               !%%%%%%%%%%%%%%%%!OOO!!!!!!!!!!!!!!!!!!!!!               !",
        "!                     %   %       %   %                      +   KKK22 +       F f           f F",
        "!                     %               %                  !   +   KK222 +       !               !",
        "!     %%%%%(%%%%%%%%% %               %  = = = = = =         +   KKK22 +       F               F",
        "!          (     @  C %               %   = = = = = =        +   KK222 +       !               !",
        "!          8      =@C % %           % %  =!====!====!    O   +   KKKK2 +       F f           f F",
        "!          9  @  @=.C %               %   = = = = = =        +   KK222 +    .  !               !",
        "!          (      =@C %       +       %                      +   KKK22 +       F               F",
        "!          (     @  C %2    ^^!^^    K%                  '   +   KK222 +       !               !",
        "!     %%%%%(%%%%%%%%% %       +       %%%%%%%%%%%%%%%%%:'''  %    D    %     UUF f           f F",
        "!                     E       +        =   =   =   =  += +  +           +  +  +!               !",
        "!         DDD         %       +       % =   =   =   =  .=   FFFFFFFFFFF        F               F",
        "!!!!!!!!%%%:%%%!!!!!!!!!!!!/!!!!!/!!!!%%%%%%%%%%%%%%%%%%%!  F               !UU!               !",
        "!                  %       /  !  /                          F FFFFFFFFFF       F f           f F",
        "!                  %       /  !  /    %%%%%%%%%DD%%%%%%%%   F F        c       !               !",
        "!                  %          !        %                %   F F FFFFFF F       F               F",
        "!                  %          !        %                %   F c =    c F       !               !",
        "!                  %          !        %    ''''''''    %   F F F cF F F       F   W   W   W   F",
        "!#########%'%######%###################%    '!!!!!!'    %   F F F  F F F       !               !",
        "!           %      %#######       #####%    '      '    %   F F FFFF F F       !               !",
        "!           %      %#         #       #%    '      '    %   F F      F F       !? ?         % %!",
        "!$&&&&&&&&&&?      %          #        %    '      '    % + c FFFFcFFF F      ! !.!!!!I;I!!! . !",
        "!           %      %             %%%%%%%%   '      '   %%   F          F       ! !          ! !!",
        "!           %      %          #  $$$$   %   '      '   %    FFFFFFFFF FF      ! !   #!!!!!!  ! !",
        "!!          !      !          #  $  $ F %   '      '   % !                  !! !         !    !!",
        "!$&&&&&&&&&&?      %          #  & /&       '      '         +                !   =  F      !  F",
        "!           %      %             %%%%  %%   '      '   %%    c         c     ! !       !       !",
        "!           %      %   /      /  %   %  %   '      '   %  %  +         +     FFF!         !    !",
        "!           %      %         //  %   %% %   '      '   % %% %%%%%%%%%%%%%%%%F =  !  @ C @    @ !",
        "!$&&&&&&&&&&?      %   /   /     %    % %   '      '   % %      %     S     F P   !! F C !FFDDD!",
        "!           %      %  /          %    % %   '      '   % %%%%%% %     !   ? ? ?  ! !C!KC@ @ C @!",
        "!           %      %             %    % %   '      '   % %      %           F   ! !! F C !FF###!",
        "!           %      %             %%%%%%;%   '      '   % %%%% %%%  ???      !  !    @ C @    @ !",
        "!$&&&&&&&&&&?      %             %          'MMMMMM'            %  ?Q?     BT !           !    !",
        "!           %      %%%%%%$$$%%%%%% %%%%%%   'NNNNNN'   %%%%%%%% E  ???      !  ! +=  F      +  F",
        "!           %      %               $$   %   '!!!!!!'   %   %    %     !     F   !       !      !",
        "!!          !      !             % %%/ %%   '      '   % ! %% % P  =  Q   % + %  !         !  !!",
        "!$&&&&&&&&&&?      %             %      E   ''''''''          % %           F P  !! D!!!!!!  ! !",
        "!           %      %             %$%%%%%!              . %%%%%%%%%%%R%;%%%%%F =  ! !        ! !!",
        "!           %      %             % %                        % %              FFF#!! !!!I;I!! ! !",
        "! %%%%%%%%%;%%%''%%%%%%%%;%%%%%%%%;% %%%%              %%%% %;%                      !         !",
        "/ /             /        / !                                                           I;I    +!",
        "! %%%%%%%%%;%%           %%                   !;;!                    %                <      +!",
        "!           %             %                                           %              % <%%%   +!",
        "!% %%%%%%%%%%             %                                           %              % <      +!",
        "!           %             %                                           %              % <      +!",
        "!%%%%%%%%   %             %                                           %              % <%%%   +!",
        "!           %             %                                           %                <      +!",
        "!!  %%%%%%%%%      !      %           'IIIIIIIIJJIIIIIIIIZ            %           !    I;I   +!!",
        "!    %    % %             %           I        NN        I            %                       +!",
        "! %     %   %             %           I                  I            %              <[%<<<   +!",
        "!%%%%%%%%% %%             %           I                  I            %              < %      +!",
        "!           %             %           I                  I            %              < %      +!",
        "!  %%%%%%%%%%             %           I        ++        I            %              < %<<<   +!",
        "!           %      .      %           J2   +        +   KJ            %     .                 +!",
        "!%%%        %             %           I        ++        I            %                       +!",
        "!           %             %           I                  I            %     =                 +!",
        "!%%%%%%%%%%<%%%%%%%%%%%%%%%           I                  I            %%%%%%+            ++++++!",
        "!                  %                  I                  I                  %         %        !",
        "!                  %                  I        GG        I                  %                  !",
        "!%%%%%%%%%%<%%%%%%%!                  ZIIIIIIIIJJIIIIIIII'                  !%%%%%%%%%;%%%%%%%%!",
        "!          =      %!                                                        !%????????:???????%!",
        "!                 %!     F     F    + KKK+   @    C   +222 +    F     F     !%&&&&&$X  X$&&&&&%!",
        "!       %  %      %!        F     F   ! +%     ++     %+ !   F     F        !%&,03&$    $&(-,&%!",
        "!   %             %!                  ! F              F !                  !%&( -&J    J&) (&%!",
        "!                 %!     F            ! F              F !            F     !%&)-(&$    $&30-&%!",
        "!     %        %  %!  F               ! F              F !               F  !%$&&&&$X  X$&&&&$%!",
        "!                 %!     F            ! F              F !            F     !%&(0-&$    $&-,0&%!",
        "!           %     %!                  ! F              F !                  !%&) (&J    J&( (&%!",
        "!                 %!        F     F   ! F              F !   F     F        !%&,-3&$    $&3)-&%!",
        "! +    %     %  + %!     F     F      ! F      GG      F !      F     F     !%&&&&&$X  X$&&&&&%!",
        "! /      I I    ! %!                    +%     ++     %+           %        !%????????;???????%!",
        "!%#%%%%%%%D%%%%%%%%!!!!!!!!!!!!!!!!!!!%%%%%%%%%  %%%%%%%%%% %!!!!!!!!!!!!!!!!%%%%%%%%%:%%%%%%%%!",
        "!         '             C C C C       %      DDDDDD      %                  %                  !",
        "!         '             C C C C       %                  %                  %                  !",
        "!    --30--------       C C C C       %                  %                  %                  !",
        "!    (    '     ,       C C C C       %        FF        %  F F F F F F F   %   ??? ??? ???    !",
        "!  (,0-   '   -(-,0     C C C C       %       F  F       %                 +%   ? ? ?Y? ?.?   =!",
        "! ')'.(' ''' '('A'(  = /@/@/@/@  ! =  %      F    F      %  + + + + + + + M!    ??? ??? ???    !",
        "!  *-)3   '   )-(-3     C C C C       %       F  F       %                 +%                  !",
        "!    1    '     A       C C C C       %        !!        %  F F F F F F F   %  !  P  %     !   !",
        "!    -------((---       C C C C       %D?              ?D%                  %   P  !  = !   P  !",
        "!         '             C C C C       % .?            ?. %                  %                  !",
        "!         '        !    C C C C       %  +=          =+  !                  %                  !",
        "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!FFFFFFFFFFFFFFFFFFFF!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
create_world_by_map(level)
draw_map(0,0,stmap,stones)
draw_map(0,0,itmap,items)
draw_map(0,0,acmap,actors)

if (not difficult) then
    set_item ("it-extralife",59,24)
	set_item ("it-flagblack",73,31)
    set_floor ("fl-leavesd4",73,31)
    set_floor ("fl-leavesd4",73,33)
    set_floor ("fl-leavesd4",75,33)
    set_floor ("fl-leavesd4",75,24)
    set_floor ("fl-leavesd4",75,31)
    set_floor ("fl-leavesd4",59,33)
    set_floor ("fl-leavesd4",59,28)
    set_floor ("fl-leavesd4",59,36)
    set_floor ("fl-leavesd4",59,37)
    set_floor ("fl-leavesd4",73,37)
    set_floor ("fl-leavesd4",65,37)
    set_stone ("st-wood",73,33)
	set_stone("st-bolder-n",30,1)
	set_item("it-cherry",11,82)
	set_item("it-dynamite",28,21)
	set_item("it-dynamite",29,21)
	set_item("it-dynamite",31,21)
	set_item("it-dynamite",32,21)
	set_floor("fl-red",87,11)
	set_stone("st-break_invisible",83,13)
	set_stone("st-break_invisible",83,17)
	set_stone("st-break_invisible",83,21)
	set_stone("st-break_invisible",83,25)
	set_stone("st-break_invisible",91,13)
	set_stone("st-break_invisible",91,17)
	set_stone("st-break_invisible",91,21)
	set_stone("st-break_invisible",91,25)
	set_stone("st-block",69,35)
	set_floor("fl-red",83,13)
	set_floor("fl-red",83,17)
	set_floor("fl-red",83,21)
	set_floor("fl-red",83,25)
	set_floor("fl-red",91,13)
	set_floor("fl-red",91,17)
	set_floor("fl-red",91,21)
	set_floor("fl-red",91,25)
  else
	set_stone("st-wood",69,35)
	set_stone("st-wood",68,37)
    set_item ("it-burnable_burning",65,29)
    set_item ("it-burnable_burning",65,32)
    set_item ("it-burnable_burning",72,32)
    set_item ("it-burnable_burning",58,31)
    set_item ("it-burnable_burning",74,32)
    set_item ("it-burnable_burning",72,36)
	set_item("it-seed_nowood",28,21)
	set_item("it-seed_nowood",29,21)
	set_item("it-seed_nowood",31,21)
	set_item("it-seed_nowood",32,21)
	set_floor("fl-water",80,13)
	set_floor("fl-water",80,17)
	set_floor("fl-water",80,21)
	set_floor("fl-water",80,25)
	set_floor("fl-water",94,13)
	set_floor("fl-water",94,17)
	set_floor("fl-water",94,21)
	set_floor("fl-water",94,25)
	set_floor("fl-abyss",82,13)
	set_floor("fl-abyss",82,17)
	set_floor("fl-abyss",82,21)
	set_floor("fl-abyss",82,25)
	set_floor("fl-abyss",92,13)
	set_floor("fl-abyss",92,17)
	set_floor("fl-abyss",92,21)
	set_floor("fl-abyss",92,25)
	set_floor("fl-water",69,37)
end

set_item("it-cherry",10,82)
set_item("it-trigger",80,49)
set_item("it-trigger",31,6,{action="close",target="doors_bottom1"})
set_floor("fl-bridge-open",22,3, {name="doors_bottom1", type="x"})
set_item("it-trigger",30,18,{action="openclose",target="doors_northway1"})
set_item("it-vstrip",30,5)
set_stone("st-key_c",86,65)
set_stone("st-switch",10,81,{action="openclose",target="doors_southoxyd3a"})
set_stone("st-door_a",10,83,{name="doors_southoxyd3a"})
set_stone("st-switch",93,29,{action="openclose",target="doors_eastoxyd2a"})
set_stone("st-door-h",93,32,{name="doors_eastoxyd2a"})
set_stone("st-bolder-n",30,6)
set_stone("st-door-v",38,22,{name="doors_northway1"})
set_stone("st-coinslot",10,54,{action="openclose",target="doors_middleleft1"})
set_stone("st-door-h",11,54,{name="doors_middleleft1"})
set_stone("st-coinslot",81,29,{action="open",target="doors_east1"})
set_stone("st-door-h",81,32,{name="doors_east1"})

set_stone("st-fourswitch",85,78,{name="aaa"})
     
set_stone("st-fourswitch",86,78,{name="aab"})
enigma.SendMessage(enigma.GetNamedObject("aab"),"trigger",nil)
     
set_stone("st-fourswitch",85,79,{name="aac"})
enigma.SendMessage(enigma.GetNamedObject("aac"),"trigger",nil)
enigma.SendMessage(enigma.GetNamedObject("aac"),"trigger",nil)
enigma.SendMessage(enigma.GetNamedObject("aac"),"trigger",nil)
     
set_stone("st-fourswitch",86,79,{name="aad"})
enigma.SendMessage(enigma.GetNamedObject("aad"),"trigger",nil)
enigma.SendMessage(enigma.GetNamedObject("aad"),"trigger",nil)


set_stone("st-laser-s",81,89)
set_stone("st-fourswitch",80,76, {action="callback", target="a"})
set_stone("st-fourswitch",91,76, {action="callback", target="b"})
set_stone("st-fourswitch",80,80, {action="callback", target="c"})
set_stone("st-fourswitch",91,80, {action="callback", target="d"})
     local ff = {0,0,0,0,0}
      fc = 0

      function a()
        ff[1] = ff[1] + 1
    if (ff[1] >= 4) then ff[1] = 0 end
    compute_gate()
      end

      function b()
        ff[2] = ff[2] + 1
    if (ff[2] >= 4) then ff[2] = 0 end
    compute_gate()
      end

      function c()
        ff[3] = ff[3] + 1
    if (ff[3] >= 4) then ff[3] = 0 end
    compute_gate()
      end

      function d()
        ff[4] = ff[4] + 1
    if (ff[4] >= 4) then ff[4] = 0 end
    compute_gate()
      end

      function compute_gate()
        if (ff[1] == 0) and (ff[2] == 1) and (ff[3] == 3) and (ff[4] == 2) then
      SetAttrib(enigma.GetStone(81,89), "on", TRUE)
    else
      SetAttrib(enigma.GetStone(81,89), "on", FALSE)
    end
      end

set_stone ("st-timer",1,27,{interval=4,on=1,action="onoff",target="laser_onoff"})
set_stone ("st-laser-w",17,33)
set_stone ("st-laser-w",17,35)
set_stone ("st-laser-w",17,37)
set_stone ("st-laser-w",17,39)
set_stone ("st-laser-w",17,41)
set_stone ("st-laser-w",17,43)
set_stone ("st-laser-w",17,45)
set_stone ("st-laser-w",17,47)
set_stone ("st-laser-w",17,49)
set_stone ("st-laser-w",17,51)
set_stone ("st-laser-n",31,23)
set_stone ("st-laser-n",32,23)
set_stone ("st-laser-n",28,23)
set_stone ("st-laser-n",29,23)
set_item ("it-vortex-open",69,35,{name="vortex1", targetx=94.5, targety=89.5})
set_item ("it-vortex-open",60,33,{name="vortex2", targetx=21.5, targety=90.5})
set_item ("it-vortex-open",71,26,{name="vortex3", targetx=94.5, targety=3.5})
set_item ("it-vortex-open",64,28,{name="vortex4", targetx=41.5, targety=17.5})
set_item ("it-vortex-open",21,90,{name="vortex5", targetx=60.5, targety=33.5})
set_item ("it-vortex-open",41,17,{name="vortex6", targetx=64.5, targety=28.5})
set_item ("it-vortex-open",94,89,{name="vortex7", targetx=69.5, targety=35.5})
set_item ("it-vortex-open",94,3,{name="vortex8",targetx=71.5, targety=26.5})
set_item ("it-death",66,29)
set_item ("it-death",95,3)
SetAttrib(enigma.GetStone(31,23),"on",FALSE)
SetAttrib(enigma.GetStone(32,23),"on",FALSE)
SetAttrib(enigma.GetStone(28,23),"on",FALSE)
SetAttrib(enigma.GetStone(29,23),"on",FALSE)
SetAttrib(enigma.GetItem(10,86),"strength",3)
SetAttrib(enigma.GetItem(10,86),"range",3)
SetAttrib(enigma.GetItem(10,90),"strength",3)
SetAttrib(enigma.GetItem(10,90),"range",3)
SetAttrib(enigma.GetItem(11,18),"strength",10)
SetAttrib(enigma.GetItem(11,18),"range",10)
SetAttrib(enigma.GetItem(26,49),"invisible",FALSE)
SetAttrib(enigma.GetItem(28,6),"invisible",FALSE)
SetAttrib(enigma.GetItem(29,6),"invisible",FALSE)
SetAttrib(enigma.GetItem(31,6),"invisible",FALSE)
SetAttrib(enigma.GetItem(32,6),"invisible",FALSE)
SetAttrib(enigma.GetItem(45,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(46,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(47,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(48,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(49,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(50,34),"invisible",FALSE)
SetAttrib(enigma.GetItem(64,48),"invisible",FALSE)
SetAttrib(enigma.GetStone(75,45),"on",FALSE)
SetAttrib(enigma.GetStone(76,45),"on",FALSE)
SetAttrib(enigma.GetItem(81,37),"invisible",FALSE)
SetAttrib(enigma.GetStone(81,89),"on",FALSE)
SetAttrib(enigma.GetStone(85,89),"on",FALSE)
AddRubberBand(enigma.GetNamedObject("ac83x29"),enigma.GetStone(81,29),0,0)
AddRubberBand(enigma.GetNamedObject("ac87x29"),enigma.GetNamedObject("ac83x29"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x29"),enigma.GetNamedObject("ac91x29"),10,100)
AddRubberBand(enigma.GetNamedObject("ac91x29"),enigma.GetStone(93,29),0,0)
AddRubberBand(enigma.GetNamedObject("ac83x25"),enigma.GetStone(81,25),0,0)
AddRubberBand(enigma.GetNamedObject("ac83x25"),enigma.GetNamedObject("ac87x25"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x25"),enigma.GetNamedObject("ac91x25"),10,100)
AddRubberBand(enigma.GetNamedObject("ac91x25"),enigma.GetStone(93,25),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x21"),enigma.GetStone(93,21),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x21"),enigma.GetNamedObject("ac87x21"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x21"),enigma.GetNamedObject("ac83x21"),10,100)
AddRubberBand(enigma.GetNamedObject("ac83x21"),enigma.GetStone(81,21),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x17"),enigma.GetStone(93,17),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x17"),enigma.GetNamedObject("ac87x17"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x17"),enigma.GetNamedObject("ac83x17"),10,100)
AddRubberBand(enigma.GetNamedObject("ac83x17"),enigma.GetStone(81,17),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x13"),enigma.GetStone(93,13),0,0)
AddRubberBand(enigma.GetNamedObject("ac91x13"),enigma.GetNamedObject("ac87x13"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x13"),enigma.GetNamedObject("ac83x13"),10,100)
AddRubberBand(enigma.GetNamedObject("ac83x13"),enigma.GetStone(81,13),0,0)
AddRubberBand(enigma.GetNamedObject("ac83x9"),enigma.GetStone(81,9),0,0)
AddRubberBand(enigma.GetNamedObject("ac83x9"),enigma.GetNamedObject("ac87x9"),10,100)
AddRubberBand(enigma.GetNamedObject("ac87x9"),enigma.GetNamedObject("ac91x9"),10,100)
AddRubberBand(enigma.GetNamedObject("ac91x9"),enigma.GetStone(93,9),0,0)

Signal ("st(1 27)","st(17 33)")
Signal ("st(1 27)","st(17 35)")
Signal ("st(1 27)","st(17 37)")
Signal ("st(1 27)","st(17 39)")
Signal ("st(1 27)","st(17 41)")
Signal ("st(1 27)","st(17 43)")
Signal ("st(1 27)","st(17 45)")
Signal ("st(1 27)","st(17 47)")
Signal ("st(1 27)","st(17 49)")
Signal ("st(1 27)","st(17 51)")
Signal ("it(10 86)","fl(12 90)")
Signal ("it(10 90)","fl(19 90)")
Signal ("st(57 60)","st(47 60)")
Signal ("st(57 60)","st(48 60)")
Signal ("st(57 60)","st(57 66)")
Signal ("st(57 60)","st(38 66)")
Signal ("st(57 60)","st(47 72)")
Signal ("st(57 60)","st(48 72)")
Signal ("st(38 72)","st(47 60)")
Signal ("st(38 72)","st(48 60)")
Signal ("st(38 72)","st(57 66)")
Signal ("st(38 72)","st(38 66)")
Signal ("st(38 72)","st(47 72)")
Signal ("st(38 72)","st(48 72)")
Signal ("it(81 37)","st(87 33)")
Signal ("st(86 62)","st(86 72)")
Signal ("st(86 62)","st(86 83)")
Signal ("st(76 45)","st(70 50)")
Signal ("it(32 6)","st(38 3)")
Signal ("it(28 6)","st(22 3)")
Signal ("it(30 4)","st(31 23)")
Signal ("it(30 4)","st(32 23)")
Signal ("it(30 4)","st(28 23)")
Signal ("it(30 4)","st(29 23)")
Signal ("it(29 6)","st(22 22)")
Signal ("st(85 89)","st(83 80)")
Signal ("st(85 89)","st(88 76)")
Signal ("st(85 89)","st(88 80)")
Signal ("st(85 89)","st(83 76)")
Signal ("it(26 49)","st(25 52)")
Signal ("it(26 49)","st(11 52)")
Signal ("it(45 34)","st(47 54)")
Signal ("it(50 34)","st(61 52)")
Signal ("it(46 34)","st(48 54)")
Signal ("it(47 34)","st(39 44)")
Signal ("it(48 34)","st(34 52)")
Signal ("it(49 34)","st(40 49)")
Signal ("it(64 49)","st(75 45)")
Signal ("it(64 48)","st(75 45)")
Signal ("st(76 45)","st(64 46)")
--torc3
Signal ("st(86 65)","st(88 60)")
Signal ("st(86 65)","st(88 53)")
--exswitch
Signal ("it(80 49)","st(88 51)")

oxyd_shuffle()
    ]]></el:luamain>
      <el:i18n>
        <el:string el:key="title">
          <el:english el:translate="true"/>
	  <el:translation el:lang="de">Die Grüne Hölle</el:translation>
        </el:string>
        <el:string el:key="subtitle">
          <el:english el:translate="true"/>
	  <el:translation el:lang="de">Eine Expedition zu grünen Wassern</el:translation>
        </el:string>
     </el:i18n>
  </el:protected>
</el:level>
